!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t="undefined"!=typeof globalThis?globalThis:t||self).TOONE=t.TOONE||{},t.TOONE.Utils=t.TOONE.Utils||{},t.TOONE.Utils.JasperReport=e())}(this,(function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,n||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:String(n)}function r(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,n(i.key),i)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){if(this instanceof t){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(e,n))}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}var u,a,s,c,f={},l={};u=l,s="["+(a=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD")+"]["+a+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",c=new RegExp("^"+s+"$"),u.isExist=function(t){return void 0!==t},u.isEmptyObject=function(t){return 0===Object.keys(t).length},u.merge=function(t,e,n){if(e)for(var r=Object.keys(e),i=r.length,o=0;o<i;o++)t[r[o]]="strict"===n?[e[r[o]]]:e[r[o]]},u.getValue=function(t){return u.isExist(t)?t:""},u.isName=function(t){var e=c.exec(t);return!(null==e)},u.getAllMatches=function(t,e){for(var n=[],r=e.exec(t);r;){var i=[];i.startIndex=e.lastIndex-r[0].length;for(var o=r.length,u=0;u<o;u++)i.push(r[u]);n.push(i),r=e.exec(t)}return n},u.nameRegexp=s;var h=l,v={allowBooleanAttributes:!1,unpairedTags:[]};function p(t){return" "===t||"\t"===t||"\n"===t||"\r"===t}function g(t,e){for(var n=e;e<t.length;e++)if("?"!=t[e]&&" "!=t[e]);else{var r=t.substr(n,e-n);if(e>5&&"xml"===r)return b("InvalidXml","XML declaration allowed only at the start of the document.",T(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}}return e}function y(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){var n=1;for(e+=8;e<t.length;e++)if("<"===t[e])n++;else if(">"===t[e]&&0===--n)break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}f.validate=function(t,e){e=Object.assign({},v,e);var n,r=[],i=!1,o=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(var u=0;u<t.length;u++)if("<"===t[u]&&"?"===t[u+1]){if((u=g(t,u+=2)).err)return u}else{if("<"!==t[u]){if(p(t[u]))continue;return b("InvalidChar","char '"+t[u]+"' is not expected.",T(t,u))}var a=u;if("!"===t[++u]){u=y(t,u);continue}var s=!1;"/"===t[u]&&(s=!0,u++);for(var c="";u<t.length&&">"!==t[u]&&" "!==t[u]&&"\t"!==t[u]&&"\n"!==t[u]&&"\r"!==t[u];u++)c+=t[u];if("/"===(c=c.trim())[c.length-1]&&(c=c.substring(0,c.length-1),u--),n=c,!h.isName(n)){return b("InvalidTag",0===c.trim().length?"Invalid space after '<'.":"Tag '"+c+"' is an invalid name.",T(t,u))}var f=m(t,u);if(!1===f)return b("InvalidAttr","Attributes for '"+c+"' have open quote.",T(t,u));var l=f.value;if(u=f.index,"/"===l[l.length-1]){var d=u-l.length,x=S(l=l.substring(0,l.length-1),e);if(!0!==x)return b(x.err.code,x.err.msg,T(t,d+x.err.line));i=!0}else if(s){if(!f.tagClosed)return b("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",T(t,u));if(l.trim().length>0)return b("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",T(t,a));if(0===r.length)return b("InvalidTag","Closing tag '"+c+"' has not been opened.",T(t,a));var R=r.pop();if(c!==R.tagName){var O=T(t,R.tagStartPos);return b("InvalidTag","Expected closing tag '"+R.tagName+"' (opened in line "+O.line+", col "+O.col+") instead of closing tag '"+c+"'.",T(t,a))}0==r.length&&(o=!0)}else{var B=S(l,e);if(!0!==B)return b(B.err.code,B.err.msg,T(t,u-l.length+B.err.line));if(!0===o)return b("InvalidXml","Multiple possible root nodes found.",T(t,u));-1!==e.unpairedTags.indexOf(c)||r.push({tagName:c,tagStartPos:a}),i=!0}for(u++;u<t.length;u++)if("<"===t[u]){if("!"===t[u+1]){u=y(t,++u);continue}if("?"!==t[u+1])break;if((u=g(t,++u)).err)return u}else if("&"===t[u]){var N=k(t,u);if(-1==N)return b("InvalidChar","char '&' is not expected.",T(t,u));u=N}else if(!0===o&&!p(t[u]))return b("InvalidXml","Extra text at the end",T(t,u));"<"===t[u]&&u--}return i?1==r.length?b("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",T(t,r[0].tagStartPos)):!(r.length>0)||b("InvalidXml","Invalid '"+JSON.stringify(r.map((function(t){return t.tagName})),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):b("InvalidXml","Start tag expected.",1)};var d='"',x="'";function m(t,e){for(var n="",r="",i=!1;e<t.length;e++){if(t[e]===d||t[e]===x)""===r?r=t[e]:r!==t[e]||(r="");else if(">"===t[e]&&""===r){i=!0;break}n+=t[e]}return""===r&&{value:n,index:e,tagClosed:i}}var R=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function S(t,e){for(var n=h.getAllMatches(t,R),r={},i=0;i<n.length;i++){if(0===n[i][1].length)return b("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",B(n[i]));if(void 0!==n[i][3]&&void 0===n[i][4])return b("InvalidAttr","Attribute '"+n[i][2]+"' is without value.",B(n[i]));if(void 0===n[i][3]&&!e.allowBooleanAttributes)return b("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",B(n[i]));var o=n[i][2];if(!O(o))return b("InvalidAttr","Attribute '"+o+"' is an invalid name.",B(n[i]));if(r.hasOwnProperty(o))return b("InvalidAttr","Attribute '"+o+"' is repeated.",B(n[i]));r[o]=1}return!0}function k(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){var n=/\d/;for("x"===t[e]&&(e++,n=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(n))break}return-1}(t,++e);for(var n=0;e<t.length;e++,n++)if(!(t[e].match(/\w/)&&n<20)){if(";"===t[e])break;return-1}return e}function b(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function O(t){return h.isName(t)}function T(t,e){var n=t.substring(0,e).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function B(t){return t.startIndex+t[1].length}var N={},E={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:function(){return!1},commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t}};function P(t,e,r){return(e=n(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}N.buildOptions=function(t){return Object.assign({},E,t)},N.defaultOptions=E;var C=function(){function e(n){t(this,e),this.tagname=n,this.child=[],this[":@"]={}}return i(e,[{key:"add",value:function(t,e){"__proto__"===t&&(t="#__proto__"),this.child.push(P({},t,e))}},{key:"addChild",value:function(t){"__proto__"===t.tagname&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push(P(P({},t.tagname,t.child),":@",t[":@"])):this.child.push(P({},t.tagname,t.child))}}]),e}();module.exports=C;const w=o(Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})));function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,u,a=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);s=!0);}catch(f){c=!0,i=f}finally{try{if(!s&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw i}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=l;function M(t,e){for(var n="";e<t.length&&"'"!==t[e]&&'"'!==t[e];e++)n+=t[e];if(-1!==(n=n.trim()).indexOf(" "))throw new Error("External entites are not supported");for(var r=t[e++],i="";e<t.length&&t[e]!==r;e++)i+=t[e];return[n,i,e]}function j(t,e){return"!"===t[e+1]&&"-"===t[e+2]&&"-"===t[e+3]}function V(t,e){return"!"===t[e+1]&&"E"===t[e+2]&&"N"===t[e+3]&&"T"===t[e+4]&&"I"===t[e+5]&&"T"===t[e+6]&&"Y"===t[e+7]}function _(t,e){return"!"===t[e+1]&&"E"===t[e+2]&&"L"===t[e+3]&&"E"===t[e+4]&&"M"===t[e+5]&&"E"===t[e+6]&&"N"===t[e+7]&&"T"===t[e+8]}function F(t,e){return"!"===t[e+1]&&"A"===t[e+2]&&"T"===t[e+3]&&"T"===t[e+4]&&"L"===t[e+5]&&"I"===t[e+6]&&"S"===t[e+7]&&"T"===t[e+8]}function D(t,e){return"!"===t[e+1]&&"N"===t[e+2]&&"O"===t[e+3]&&"T"===t[e+4]&&"A"===t[e+5]&&"T"===t[e+6]&&"I"===t[e+7]&&"O"===t[e+8]&&"N"===t[e+9]}function Y(t){if(I.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}module.exports=function(t,e){var n={};if("O"!==t[e+3]||"C"!==t[e+4]||"T"!==t[e+5]||"Y"!==t[e+6]||"P"!==t[e+7]||"E"!==t[e+8])throw new Error("Invalid Tag instead of DOCTYPE");e+=9;for(var r=1,i=!1,o=!1;e<t.length;e++)if("<"!==t[e]||o)if(">"===t[e]){if(o?"-"===t[e-1]&&"-"===t[e-2]&&(o=!1,r--):r--,0===r)break}else"["===t[e]?i=!0:t[e];else{if(i&&V(t,e)){var u=A(M(t,(e+=7)+1),3);entityName=u[0],val=u[1],e=u[2],-1===val.indexOf("&")&&(n[Y(entityName)]={regx:RegExp(`&${entityName};`,"g"),val:val})}else if(i&&_(t,e))e+=8;else if(i&&F(t,e))e+=8;else if(i&&D(t,e))e+=9;else{if(!j)throw new Error("Invalid DOCTYPE");o=!0}r++,""}if(0!==r)throw new Error("Unclosed DOCTYPE");return{entities:n,i:e}};const $=o(Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})));var W=/^[-+]?0x[a-fA-F0-9]+$/,K=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var H={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};var G=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=Object.assign({},H,e),!t||"string"!=typeof t)return t;var n=t.trim();if(void 0!==e.skipLike&&e.skipLike.test(n))return t;if(e.hex&&W.test(n))return Number.parseInt(n,16);var r=K.exec(n);if(r){var i=r[1],o=r[2],u=function(t){if(t&&-1!==t.indexOf("."))return"."===(t=t.replace(/0+$/,""))?t="0":"."===t[0]?t="0"+t:"."===t[t.length-1]&&(t=t.substr(0,t.length-1)),t;return t}(r[3]),a=r[4]||r[6];if(!e.leadingZeros&&o.length>0&&i&&"."!==n[2])return t;if(!e.leadingZeros&&o.length>0&&!i&&"."!==n[1])return t;var s=Number(n),c=""+s;return-1!==c.search(/[eE]/)||a?e.eNotation?s:t:-1!==n.indexOf(".")?"0"===c&&""===u||c===u||i&&c==="-"+u?s:t:o?u===c||i+u===c?s:t:n===c||n===i+c?s:t}return t},J=l,z=w,q=$,U=G,X=i((function e(n){t(this,e),this.options=n,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:function(t,e){return String.fromCharCode(Number.parseInt(e,10))}},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:function(t,e){return String.fromCharCode(Number.parseInt(e,16))}}},this.addExternalEntities=Z,this.parseXml=rt,this.parseTextData=Q,this.resolveNameSpace=tt,this.buildAttributesMap=nt,this.isItStopNode=at,this.replaceEntitiesValue=ot,this.readStopNodeData=ft,this.saveTextToParentTag=ut,this.addChild=it}));function Z(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var r=e[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:t[r]}}}function Q(t,e,n,r,i,o,u){if(void 0!==t&&(this.options.trimValues&&!r&&(t=t.trim()),t.length>0)){u||(t=this.replaceEntitiesValue(t));var a=this.options.tagValueProcessor(e,t,n,i,o);return null==a?t:typeof a!=typeof t||a!==t?a:this.options.trimValues||t.trim()===t?lt(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function tt(t){if(this.options.removeNSPrefix){var e=t.split(":"),n="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=n+e[1])}return t}var et=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function nt(t,e,n){if(!this.options.ignoreAttributes&&"string"==typeof t){for(var r=J.getAllMatches(t,et),i=r.length,o={},u=0;u<i;u++){var a=this.resolveNameSpace(r[u][1]),s=r[u][4],c=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),"__proto__"===c&&(c="#__proto__"),void 0!==s){this.options.trimValues&&(s=s.trim()),s=this.replaceEntitiesValue(s);var f=this.options.attributeValueProcessor(a,s,e);o[c]=null==f?s:typeof f!=typeof s||f!==s?f:lt(s,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[c]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){var l={};return l[this.options.attributesGroupName]=o,l}return o}}var rt=function(t){t=t.replace(/\r\n?/g,"\n");for(var e=new z("!xml"),n=e,r="",i="",o=0;o<t.length;o++){if("<"===t[o])if("/"===t[o+1]){var u=st(t,">",o,"Closing Tag is not closed."),a=t.substring(o+2,u).trim();if(this.options.removeNSPrefix){var s=a.indexOf(":");-1!==s&&(a=a.substr(s+1))}this.options.transformTagName&&(a=this.options.transformTagName(a)),n&&(r=this.saveTextToParentTag(r,n,i));var c=i.substring(i.lastIndexOf(".")+1);if(a&&-1!==this.options.unpairedTags.indexOf(a))throw new Error(`Unpaired tag can not be used as closing tag: </${a}>`);var f=0;c&&-1!==this.options.unpairedTags.indexOf(c)?(f=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):f=i.lastIndexOf("."),i=i.substring(0,f),n=this.tagsNodeStack.pop(),r="",o=u}else if("?"===t[o+1]){var l=ct(t,o,!1,"?>");if(!l)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),this.options.ignoreDeclaration&&"?xml"===l.tagName||this.options.ignorePiTags);else{var h=new z(l.tagName);h.add(this.options.textNodeName,""),l.tagName!==l.tagExp&&l.attrExpPresent&&(h[":@"]=this.buildAttributesMap(l.tagExp,i,l.tagName)),this.addChild(n,h,i)}o=l.closeIndex+1}else if("!--"===t.substr(o+1,3)){var v=st(t,"--\x3e",o+4,"Comment is not closed.");if(this.options.commentPropName){var p=t.substring(o+4,v-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[P({},this.options.textNodeName,p)])}o=v}else if("!D"===t.substr(o+1,2)){var g=q(t,o);this.docTypeEntities=g.entities,o=g.i}else if("!["===t.substr(o+1,2)){var y=st(t,"]]>",o,"CDATA is not closed.")-2,d=t.substring(o+9,y);r=this.saveTextToParentTag(r,n,i);var x=this.parseTextData(d,n.tagname,i,!0,!1,!0,!0);null==x&&(x=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[P({},this.options.textNodeName,d)]):n.add(this.options.textNodeName,x),o=y+2}else{var m=ct(t,o,this.options.removeNSPrefix),R=m.tagName,S=m.rawTagName,k=m.tagExp,b=m.attrExpPresent,O=m.closeIndex;this.options.transformTagName&&(R=this.options.transformTagName(R)),n&&r&&"!xml"!==n.tagname&&(r=this.saveTextToParentTag(r,n,i,!1));var T=n;if(T&&-1!==this.options.unpairedTags.indexOf(T.tagname)&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),R!==e.tagname&&(i+=i?"."+R:R),this.isItStopNode(this.options.stopNodes,i,R)){var B="";if(k.length>0&&k.lastIndexOf("/")===k.length-1)"/"===R[R.length-1]?(R=R.substr(0,R.length-1),i=i.substr(0,i.length-1),k=R):k=k.substr(0,k.length-1),o=m.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(R))o=m.closeIndex;else{var N=this.readStopNodeData(t,S,O+1);if(!N)throw new Error(`Unexpected end of ${S}`);o=N.i,B=N.tagContent}var E=new z(R);R!==k&&b&&(E[":@"]=this.buildAttributesMap(k,i,R)),B&&(B=this.parseTextData(B,R,i,!0,b,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),E.add(this.options.textNodeName,B),this.addChild(n,E,i)}else{if(k.length>0&&k.lastIndexOf("/")===k.length-1){"/"===R[R.length-1]?(R=R.substr(0,R.length-1),i=i.substr(0,i.length-1),k=R):k=k.substr(0,k.length-1),this.options.transformTagName&&(R=this.options.transformTagName(R));var C=new z(R);R!==k&&b&&(C[":@"]=this.buildAttributesMap(k,i,R)),this.addChild(n,C,i),i=i.substr(0,i.lastIndexOf("."))}else{var w=new z(R);this.tagsNodeStack.push(n),R!==k&&b&&(w[":@"]=this.buildAttributesMap(k,i,R)),this.addChild(n,w,i),n=w}r="",o=O}}else r+=t[o]}return e.child};function it(t,e,n){var r=this.options.updateTag(e.tagname,n,e[":@"]);!1===r||("string"==typeof r?(e.tagname=r,t.addChild(e)):t.addChild(e))}var ot=function(t){if(this.options.processEntities){for(var e in this.docTypeEntities){var n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(var r in this.lastEntities){var i=this.lastEntities[r];t=t.replace(i.regex,i.val)}if(this.options.htmlEntities)for(var o in this.htmlEntities){var u=this.htmlEntities[o];t=t.replace(u.regex,u.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function ut(t,e,n,r){return t&&(void 0===r&&(r=0===Object.keys(e.child).length),void 0!==(t=this.parseTextData(t,e.tagname,n,!1,!!e[":@"]&&0!==Object.keys(e[":@"]).length,r))&&""!==t&&e.add(this.options.textNodeName,t),t=""),t}function at(t,e,n){var r="*."+n;for(var i in t){var o=t[i];if(r===o||e===o)return!0}return!1}function st(t,e,n,r){var i=t.indexOf(e,n);if(-1===i)throw new Error(r);return i+e.length-1}function ct(t,e,n){var r=function(t,e){for(var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:">",i="",o=e;o<t.length;o++){var u=t[o];if(n)u===n&&(n="");else if('"'===u||"'"===u)n=u;else if(u===r[0]){if(!r[1])return{data:i,index:o};if(t[o+1]===r[1])return{data:i,index:o}}else"\t"===u&&(u=" ");i+=u}}(t,e+1,arguments.length>3&&void 0!==arguments[3]?arguments[3]:">");if(r){var i=r.data,o=r.index,u=i.search(/\s/),a=i,s=!0;-1!==u&&(a=i.substring(0,u),i=i.substring(u+1).trimStart());var c=a;if(n){var f=a.indexOf(":");-1!==f&&(s=(a=a.substr(f+1))!==r.data.substr(f+1))}return{tagName:a,tagExp:i,closeIndex:o,attrExpPresent:s,rawTagName:c}}}function ft(t,e,n){for(var r=n,i=1;n<t.length;n++)if("<"===t[n])if("/"===t[n+1]){var o=st(t,">",n,`${e} is not closed`);if(t.substring(n+2,o).trim()===e&&0===--i)return{tagContent:t.substring(r,n),i:o};n=o}else if("?"===t[n+1]){n=st(t,"?>",n+1,"StopNode is not closed.")}else if("!--"===t.substr(n+1,3)){n=st(t,"--\x3e",n+3,"StopNode is not closed.")}else if("!["===t.substr(n+1,2)){n=st(t,"]]>",n,"StopNode is not closed.")-2}else{var u=ct(t,n,">");if(u)(u&&u.tagName)===e&&"/"!==u.tagExp[u.tagExp.length-1]&&i++,n=u.closeIndex}}function lt(t,e,n){if(e&&"string"==typeof t){var r=t.trim();return"true"===r||"false"!==r&&U(t,n)}return J.isExist(t)?t:""}module.exports=X;const ht=o(Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})));var vt={};function pt(t,e,n){for(var r,i={},o=0;o<t.length;o++){var u=t[o],a=gt(u),s="";if(s=void 0===n?a:n+"."+a,a===e.textNodeName)void 0===r?r=u[a]:r+=""+u[a];else{if(void 0===a)continue;if(u[a]){var c=pt(u[a],e,s),f=dt(c,e);u[":@"]?yt(c,u[":@"],s,e):1!==Object.keys(c).length||void 0===c[e.textNodeName]||e.alwaysCreateTextNode?0===Object.keys(c).length&&(e.alwaysCreateTextNode?c[e.textNodeName]="":c=""):c=c[e.textNodeName],void 0!==i[a]&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(c)):e.isArray(a,s,f)?i[a]=[c]:i[a]=c}}}return"string"==typeof r?r.length>0&&(i[e.textNodeName]=r):void 0!==r&&(i[e.textNodeName]=r),i}function gt(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var r=e[n];if(":@"!==r)return r}}function yt(t,e,n,r){if(e)for(var i=Object.keys(e),o=i.length,u=0;u<o;u++){var a=i[u];r.isArray(a,n+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}function dt(t,e){var n=e.textNodeName,r=Object.keys(t).length;return 0===r||!(1!==r||!t[n]&&"boolean"!=typeof t[n]&&0!==t[n])}vt.prettify=function(t,e){return pt(t,e)};var xt=N.buildOptions,mt=ht,Rt=vt.prettify,St=f,kt=function(){function e(n){t(this,e),this.externalEntities={},this.options=xt(n)}return i(e,[{key:"parse",value:function(t,e){if("string"==typeof t);else{if(!t.toString)throw new Error("XML data is accepted in String or Bytes[] form.");t=t.toString()}if(e){!0===e&&(e={});var n=St.validate(t,e);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}var r=new mt(this.options);r.addExternalEntities(this.externalEntities);var i=r.parseXml(t);return this.options.preserveOrder||void 0===i?i:Rt(i,this.options)}},{key:"addEntity",value:function(t,e){if(-1!==e.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==t.indexOf("&")||-1!==t.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===e)throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=e}}]),e}();module.exports=kt;const bt=o(Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})));function Ot(t,e,n,r){for(var i="",o=!1,u=0;u<t.length;u++){var a=t[u],s=Tt(a);if(void 0!==s){var c="";if(c=0===n.length?s:`${n}.${s}`,s!==e.textNodeName)if(s!==e.cdataPropName)if(s!==e.commentPropName)if("?"!==s[0]){var f=r;""!==f&&(f+=e.indentBy);var l=r+`<${s}${Bt(a[":@"],e)}`,h=Ot(a[s],e,c,f);-1!==e.unpairedTags.indexOf(s)?e.suppressUnpairedNode?i+=l+">":i+=l+"/>":h&&0!==h.length||!e.suppressEmptyNode?h&&h.endsWith(">")?i+=l+`>${h}${r}</${s}>`:(i+=l+">",h&&""!==r&&(h.includes("/>")||h.includes("</"))?i+=r+e.indentBy+h+r:i+=h,i+=`</${s}>`):i+=l+"/>",o=!0}else{var v=Bt(a[":@"],e),p="?xml"===s?"":r,g=a[s][0][e.textNodeName];i+=p+`<${s}${g=0!==g.length?" "+g:""}${v}?>`,o=!0}else i+=r+`\x3c!--${a[s][0][e.textNodeName]}--\x3e`,o=!0;else o&&(i+=r),i+=`<![CDATA[${a[s][0][e.textNodeName]}]]>`,o=!1;else{var y=a[s];Nt(c,e)||(y=Et(y=e.tagValueProcessor(s,y),e)),o&&(i+=r),i+=y,o=!1}}}return i}function Tt(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var r=e[n];if(t.hasOwnProperty(r)&&":@"!==r)return r}}function Bt(t,e){var n="";if(t&&!e.ignoreAttributes)for(var r in t)if(t.hasOwnProperty(r)){var i=e.attributeValueProcessor(r,t[r]);!0===(i=Et(i,e))&&e.suppressBooleanAttributes?n+=` ${r.substr(e.attributeNamePrefix.length)}`:n+=` ${r.substr(e.attributeNamePrefix.length)}="${i}"`}return n}function Nt(t,e){var n=(t=t.substr(0,t.length-e.textNodeName.length-1)).substr(t.lastIndexOf(".")+1);for(var r in e.stopNodes)if(e.stopNodes[r]===t||e.stopNodes[r]==="*."+n)return!0;return!1}function Et(t,e){if(t&&t.length>0&&e.processEntities)for(var n=0;n<e.entities.length;n++){var r=e.entities[n];t=t.replace(r.regex,r.val)}return t}var Pt=function(t,e){var n="";return e.format&&e.indentBy.length>0&&(n="\n"),Ot(t,e,"",n)},Ct={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function wt(t){this.options=Object.assign({},Ct,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=It),this.processTextOrObjNode=Lt,this.options.format?(this.indentate=At,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function Lt(t,e,n){var r=this.j2x(t,n+1);return void 0!==t[this.options.textNodeName]&&1===Object.keys(t).length?this.buildTextValNode(t[this.options.textNodeName],e,r.attrStr,n):this.buildObjectNode(r.val,e,r.attrStr,n)}function At(t){return this.options.indentBy.repeat(t)}function It(t){return!(!t.startsWith(this.options.attributeNamePrefix)||t===this.options.textNodeName)&&t.substr(this.attrPrefixLen)}wt.prototype.build=function(t){return this.options.preserveOrder?Pt(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t=P({},this.options.arrayNodeName,t)),this.j2x(t,0).val)},wt.prototype.j2x=function(t,e){var n="",r="";for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))if(void 0===t[i])this.isAttribute(i)&&(r+="");else if(null===t[i])this.isAttribute(i)?r+="":"?"===i[0]?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)r+=this.buildTextValNode(t[i],i,"",e);else if("object"!=typeof t[i]){var o=this.isAttribute(i);if(o)n+=this.buildAttrPairStr(o,""+t[i]);else if(i===this.options.textNodeName){var u=this.options.tagValueProcessor(i,""+t[i]);r+=this.replaceEntitiesValue(u)}else r+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){for(var a=t[i].length,s="",c=0;c<a;c++){var f=t[i][c];void 0===f||(null===f?"?"===i[0]?r+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:r+=this.indentate(e)+"<"+i+"/"+this.tagEndChar:"object"==typeof f?this.options.oneListGroup?s+=this.j2x(f,e+1).val:s+=this.processTextOrObjNode(f,i,e):s+=this.buildTextValNode(f,i,"",e))}this.options.oneListGroup&&(s=this.buildObjectNode(s,i,"",e)),r+=s}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName)for(var l=Object.keys(t[i]),h=l.length,v=0;v<h;v++)n+=this.buildAttrPairStr(l[v],""+t[i][l[v]]);else r+=this.processTextOrObjNode(t[i],i,e);return{attrStr:n,val:r}},wt.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&"true"===e?" "+t:" "+t+'="'+e+'"'},wt.prototype.buildObjectNode=function(t,e,n,r){if(""===t)return"?"===e[0]?this.indentate(r)+"<"+e+n+"?"+this.tagEndChar:this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar;var i="</"+e+this.tagEndChar,o="";return"?"===e[0]&&(o="?",i=""),!n&&""!==n||-1!==t.indexOf("<")?!1!==this.options.commentPropName&&e===this.options.commentPropName&&0===o.length?this.indentate(r)+`\x3c!--${t}--\x3e`+this.newLine:this.indentate(r)+"<"+e+n+o+this.tagEndChar+t+this.indentate(r)+i:this.indentate(r)+"<"+e+n+o+">"+t+i},wt.prototype.closeTag=function(t){var e="";return-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode||(e="/"):e=this.options.suppressEmptyNode?"/":`></${t}`,e},wt.prototype.buildTextValNode=function(t,e,n,r){if(!1!==this.options.cdataPropName&&e===this.options.cdataPropName)return this.indentate(r)+`<![CDATA[${t}]]>`+this.newLine;if(!1!==this.options.commentPropName&&e===this.options.commentPropName)return this.indentate(r)+`\x3c!--${t}--\x3e`+this.newLine;if("?"===e[0])return this.indentate(r)+"<"+e+n+"?"+this.tagEndChar;var i=this.options.tagValueProcessor(e,t);return""===(i=this.replaceEntitiesValue(i))?this.indentate(r)+"<"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(r)+"<"+e+n+">"+i+"</"+e+this.tagEndChar},wt.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(var e=0;e<this.options.entities.length;e++){var n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t},module.exports=wt;var Mt={XMLParser:bt,XMLValidator:f,XMLBuilder:o(Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})))},jt="#text",Vt=function(t){return!(function(t){return t&&t.startsWith("@_")}(t)||function(t){return t===jt}(t))},_t=function(){function e(n){t(this,e),this.element=n}return i(e,[{key:"getElement",value:function(){return this.element}},{key:"getParentContext",value:function(){}}]),e}();function Ft(t,e){return(Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Dt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ft(t,e)}function Yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $t(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return Yt(t)}function Wt(t){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kt=function(){function e(n,r){t(this,e),this.node=n,this.context=r}return i(e,[{key:"createChildren",value:function(){return si(this.node)}},{key:"getIntegerAttr",value:function(t,e){return parseInt(this.getAttribute(t,e))}},{key:"toAttrName",value:function(t){return function(t){return"@_"+t}(t)}},{key:"getAttribute",value:function(t,e){return(e=e||this.node)[this.toAttrName(t)]}},{key:"getNode",value:function(){return this.node}},{key:"parse",value:function(t){}}]),e}();function Ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}var Gt=function(e){Dt(r,e);var n=Ht(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r,[{key:"parse",value:function(t){var e=this.createChildren(),n=[];return e.forEach((function(e){var r=e.parse(t);n.push(r)})),n}}]),r}(Kt);function Jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}Gt.nodeName="band";var zt=function(e){Dt(r,e);var n=Jt(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r,[{key:"parse",value:function(t){var e=[];return this.createChildren().forEach((function(n){var r=n.parse(t);r&&(Array.isArray(r)?e=e.concat(r):e.push(r))})),e}}]),r}(Kt);function qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}var Ut=function(e){Dt(r,e);var n=qt(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r)}(zt);function Xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}Ut.nodeName="columnFooter";var Zt=function(e){Dt(r,e);var n=Xt(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r)}(zt);function Qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}Zt.nodeName="columnHeader";var te=function(e){Dt(r,e);var n=Qt(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r)}(zt);te.nodeName="detail";var ee=function(){function e(){t(this,e),P(this,"cells",[])}return i(e,[{key:"setName",value:function(t){this.name=t}},{key:"getName",value:function(){return this.name}},{key:"setOrientation",value:function(t){this.orientation=t}},{key:"getOrientation",value:function(){return this.orientation}},{key:"setMarginLeft",value:function(t){this.marginLeft=t}},{key:"getMarginLeft",value:function(){return this.marginLeft}},{key:"setMarginRight",value:function(t){this.marginRight=t}},{key:"getMarginRight",value:function(){return this.marginRight}},{key:"setMarginTop",value:function(t){this.marginTop=t}},{key:"getMarginTop",value:function(){return this.marginTop}},{key:"setMarginBottom",value:function(t){this.marginBottom=t}},{key:"getMarginBottom",value:function(){return this.marginBottom}},{key:"appendCell",value:function(t){Array.isArray(t)?this.cells=this.cells.concat(t):this.cells.push(t)}},{key:"getCells",value:function(){return this.cells}}]),e}();function ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}var re=function(e){Dt(r,e);var n=ne(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r,[{key:"parse",value:function(t){var e=this,n=new ee;n.setName(this.getAttribute("name")),n.setOrientation("Landscape"==this.getAttribute("orientation")?"landscope":"portrait"),n.setMarginTop(this.getIntegerAttr("topMargin")),n.setMarginRight(this.getIntegerAttr("rightMargin")),n.setMarginBottom(this.getIntegerAttr("bottomMargin")),n.setMarginLeft(this.getIntegerAttr("leftMargin"));var r=[],i=this.getNode();return["title","pageHeader","columnHeader","detail","columnFooter","pageFooter","summary"].forEach((function(n){var o=i[n];if(o){var u=o.band,a=e.getIntegerAttr("height",u);ci(n,o).forEach((function(e){var n=e.parse(t);n&&(Array.isArray(n)?r=r.concat(n):r.push(n))})),t.appendTopOffset(a)}})),n.appendCell(r),n}}]),r}(Kt);function ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}re.nodeName="jasperReport";var oe=function(e){Dt(r,e);var n=ie(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r)}(zt);function ue(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}oe.nodeName="pageFooter";var ae=function(e){Dt(r,e);var n=ue(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r)}(zt);ae.nodeName="pageHeader";var se=function(){function e(){t(this,e)}return i(e,[{key:"setLeft",value:function(t){this.left=t}},{key:"getLeft",value:function(){return this.left}},{key:"getRight",value:function(){return this.left+this.width}},{key:"getBottom",value:function(){return this.top+this.height}},{key:"setTop",value:function(t){this.top=t}},{key:"getTop",value:function(){return this.top}},{key:"setWidth",value:function(t){this.width=t}},{key:"getWidth",value:function(){return this.width}},{key:"setHeight",value:function(t){this.height=t}},{key:"getHeight",value:function(){return this.height}},{key:"setHAlign",value:function(t){this.hAlign=t}},{key:"getHAlign",value:function(){return this.hAlign}},{key:"setVAlign",value:function(t){this.vAlign=t}},{key:"getVAlign",value:function(){return this.vAlign}},{key:"setFont",value:function(t){this.font=t}},{key:"getFont",value:function(){return this.font}},{key:"setFontSize",value:function(t){this.fontSize=t}},{key:"getFontSize",value:function(){return this.fontSize}},{key:"setBold",value:function(t){this.bold=t}},{key:"isBold",value:function(){return this.bold}},{key:"setText",value:function(t){this.text=t}},{key:"getText",value:function(){return this.text}},{key:"setFormula",value:function(t){this.formula=t}},{key:"getFormula",value:function(){return this.formula}},{key:"setBorderTop",value:function(t){this.borderTop=t}},{key:"getBorderTop",value:function(){return this.borderTop}},{key:"setBorderRight",value:function(t){this.borderRight=t}},{key:"getBorderRight",value:function(){return this.borderRight}},{key:"setBorderBottom",value:function(t){this.borderBottom=t}},{key:"getBorderBottom",value:function(){return this.borderBottom}},{key:"setBorderLeft",value:function(t){this.borderLeft=t}},{key:"getBorderLeft",value:function(){return this.borderLeft}},{key:"setColSpan",value:function(t){this.colSpan=t}},{key:"setRowSpan",value:function(t){this.rowSpan=t}},{key:"setBindingPath",value:function(t){this.bindingPath=t}},{key:"getBindingPath",value:function(){return this.bindingPath}}]),e}(),ce=function(t){return t>="a"&&t<="z"},fe=function(t){return t>="A"&&t<="Z"},le=function(){function e(n,r,i){t(this,e),P(this,"value",void 0),P(this,"lineIndex",void 0),P(this,"colIndex",void 0),this.value=n,this.lineIndex=r,this.colIndex=i}return i(e,[{key:"getValue",value:function(){return this.value}},{key:"getLineIndex",value:function(){return this.lineIndex}},{key:"getColIndex",value:function(){return this.colIndex}},{key:"isLineBreaked",value:function(){return!1}},{key:"toString",value:function(){return this.value}},{key:"isCanSkip",value:function(){return!1}},{key:"isSubtractAhead",value:function(){return!0}}]),e}();function he(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(le,"ORDER",10),P(le,"TOKEN",null),P(le,"accept",(function(t){return t==this.TOKEN})),P(le,"toExpression",(function(t,e,n){return n.slice(t,e).join("")})),P(le,"parse",(function(t,e,n){return new this(t,e,n)}));var ve=function(e){Dt(r,e);var n=he(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(ve,"accept",(function(t){return(e=t)>="0"&&e<="9";var e}));var ge=function(e){Dt(r,e);var n=pe(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}ge.accept=function(t){return ce(e=t)||fe(e);var e};var de=function(e){Dt(r,e);var n=ye(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r,[{key:"isSubtractAhead",value:function(){return!1}}]),r}(le);function xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}var me=function(e){Dt(r,e);var n=xe(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(de);function Re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(me,"TOKEN","-");var Se=function(e){Dt(r,e);var n=Re(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(de);function ke(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Se,"TOKEN","+");var be=function(e){Dt(r,e);var n=ke(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(de);function Oe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(be,"TOKEN","/");var Te=function(e){Dt(r,e);var n=Oe(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(de);function Be(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Te,"TOKEN","*");var Ne=function(e){Dt(r,e);var n=Be(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(de);function Ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Ne,"TOKEN","=");var Pe=function(e){Dt(r,e);var n=Ee(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(de);function Ce(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Pe,"TOKEN",">");var we=function(e){Dt(r,e);var n=Ce(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(de);function Le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(we,"TOKEN","<");var Ae=function(e){Dt(r,e);var n=Le(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(de);function Ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Ae,"TOKEN","&");var Me=function(e){Dt(r,e);var n=Ie(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(de);function je(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Me,"TOKEN","!");var Ve=function(e){Dt(r,e);var n=je(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(de);function _e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Ve,"TOKEN","|");var Fe=function(e){Dt(r,e);var n=_e(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function De(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Fe,"TOKEN","@");var Ye=function(e){Dt(r,e);var n=De(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function $e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Ye,"TOKEN","\\");var We=function(e){Dt(r,e);var n=$e(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r,[{key:"isCanSkip",value:function(){return!0}}]),r}(le);function Ke(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(We,"TOKEN"," ");var He=function(e){Dt(r,e);var n=Ke(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function Ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(He,"TOKEN",",");var Je=function(e){Dt(r,e);var n=Ge(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function ze(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Je,"TOKEN","$");var qe=function(e){Dt(r,e);var n=ze(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function Ue(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(qe,"TOKEN",".");var Xe=function(e){Dt(r,e);var n=Ue(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function Ze(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Xe,"TOKEN","#");var Qe=function(e){Dt(r,e);var n=Ze(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Qe,"TOKEN","{");var en=function(e){Dt(r,e);var n=tn(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function nn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(en,"TOKEN","[");var rn=function(e){Dt(r,e);var n=nn(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r,[{key:"isSubtractAhead",value:function(){return!1}}]),r}(le);function on(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(rn,"TOKEN","(");var un=function(e){Dt(r,e);var n=on(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r,[{key:"isLineBreaked",value:function(){return!0}},{key:"isCanSkip",value:function(){return!0}}]),r}(le);function an(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(un,"TOKEN","\n");var sn=function(e){Dt(r,e);var n=an(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(sn,"TOKEN",'"');var fn=function(e){Dt(r,e);var n=cn(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function ln(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(fn,"TOKEN","}");var hn=function(e){Dt(r,e);var n=ln(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function vn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(hn,"TOKEN","]");var pn=function(e){Dt(r,e);var n=vn(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function gn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(pn,"TOKEN",")");var yn=function(e){Dt(r,e);var n=gn(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function dn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(yn,"TOKEN",";");var xn=function(e){Dt(r,e);var n=dn(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r,[{key:"isLineBreaked",value:function(){return!0}},{key:"isCanSkip",value:function(){return!0}}]),r}(le);function mn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(xn,"TOKEN","\t");var Rn,Sn=function(e){Dt(r,e);var n=mn(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(le);function kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Sn,"TOKEN","_");var bn=function(e){Dt(r,e);var n=kn(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r,[{key:"isCanSkip",value:function(){return!1}}]),r}(le);Rn=bn,P(bn,"ORDER",0),P(bn,"accept",(function(t){return!0})),P(bn,"parse",(function(t,e,n){return new Rn(t,e,n)}));var On=[ve,ge,me,Se,be,Te,Ne,Pe,we,Ae,Me,Ve,Fe,We,He,qe,Je,Xe,en,rn,Qe,un,sn,hn,pn,fn,xn,Sn,yn,Ye,bn];On=On.sort((function(t,e){return e.ORDER-t.ORDER}));function Tn(t){for(var e=0,n=0,r=On,i=[],o=0,u=t.length;o<u;o++){for(var a=t.charAt(o),s=0,c=r.length;s<c;s++){var f=r[s];if(f.accept(a)){var l=f.parse(a,e,n);i.push(l),l.isLineBreaked()&&(e++,n=-1);break}}n++}return i}var Bn=function(){function e(n,r,i,o){t(this,e),P(this,"startLine",void 0),P(this,"endLine",void 0),P(this,"startCol",void 0),P(this,"endCol",void 0),this.startLine=n||0,this.startCol=r||0,this.endLine=i||0,this.endCol=o||0}return i(e,[{key:"getStartLine",value:function(){return this.startLine}},{key:"setStartLine",value:function(t){this.startLine=t,this.startLine>this.endLine&&(this.endLine=this.startLine)}},{key:"setLineOffset",value:function(t){this.startLine=this.startLine+t,this.endLine=this.endLine+t}},{key:"setColOffset",value:function(t){this.startCol=this.startCol+t,this.endCol=this.endCol+t}},{key:"getStartCol",value:function(){return this.startCol}},{key:"setStartCol",value:function(t){this.startCol=t,this.startCol>this.endCol&&(this.endCol=this.startCol)}},{key:"getEndLine",value:function(){return this.endLine}},{key:"setEndLine",value:function(t){this.endLine=t,this.endLine<this.startLine&&(this.startLine=this.endLine)}},{key:"getEndCol",value:function(){return this.endCol}},{key:"clone",value:function(){return new e(this.startLine,this.startCol,this.endLine,this.endCol)}},{key:"parseStartToken",value:function(t){this.startLine=t.getLineIndex(),this.startCol=t.getColIndex()}},{key:"parseStartSyntax",value:function(t){var e=t.getPosition();this.startLine=e.getStartLine(),this.startCol=e.getStartCol()}},{key:"parseEndToken",value:function(t){this.endLine=t.getLineIndex(),this.endCol=t.getColIndex()}},{key:"parseEndSyntax",value:function(t){var e=t.getPosition();this.endLine=e.getEndLine(),this.endCol=e.getEndCol()}},{key:"has",value:function(t,e){return this.startLine==this.endLine?this.startLine==t&&e>=this.startCol&&e<=this.endCol:t>this.startLine&&t<this.endLine||(t==this.startLine&&e>=this.startCol||t==this.endLine&&e<=this.endCol)}}]),e}(),Nn=function(){function e(n,r,i,o){t(this,e),P(this,"tokenStartIndex",void 0),P(this,"tokenEndIndex",void 0),P(this,"position",void 0),P(this,"context",void 0),this.tokenStartIndex=n,this.tokenEndIndex=r,this.position=i,this.context=o}return i(e,[{key:"getPosition",value:function(){return this.position}},{key:"getContext",value:function(){return this.context}},{key:"toString",value:function(){return""}},{key:"getTokenStartIndex",value:function(){return this.tokenStartIndex}},{key:"getTokenEndIndex",value:function(){return this.tokenEndIndex}},{key:"isText",value:function(){return!1}},{key:"visit",value:function(){}}]),e}();function En(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Nn,"accept",(function(t){return!1})),P(Nn,"parse",(function(t){return null})),P(Nn,"INDENT_CHAR","\t");var Pn,Cn=function(e){Dt(r,e);var n=En(r);function r(e,i,o,u,a,s){var c;return t(this,r),P(Yt(c=n.call(this,e,i,a,s)),"message",void 0),P(Yt(c),"tokens",void 0),c.message=o,c.tokens=u,c}return i(r,[{key:"getMessasge",value:function(){return this.message}},{key:"toString",value:function(){var t=this.getContext().getPrinter();if(t&&t.printUnknownSyntax)return t.printUnknownSyntax(this,(function(t){return t.toString()}));var e=[];return this.tokens&&this.tokens.forEach((function(t){e.push(t.toString())})),e.join("")}},{key:"visit",value:function(){var t=this.getContext().getVisitor();if(t&&t.visitUnknownSyntax)throw Error("当前表达式解析错误！")}}]),r}(Nn);function wn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Cn,"accept",(function(t){return!1})),P(Cn,"parse",(function(t){return null})),P(Cn,"getWeight",(function(){return 0}));var Ln=function(e){Dt(r,e);var n=wn(r);function r(e,i,o,u,a){var s;return t(this,r),P(Yt(s=n.call(this,e,i,u,a)),"body",void 0),s.body=o,s}return i(r,[{key:"getBody",value:function(){return this.body}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printBacketSyntax?t.printBacketSyntax(this,(function(t){return t.toString()})):`(${this.getBody().toString()})`}},{key:"isText",value:function(){return this.body.isText()}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitBacketSyntax&&(e=t.visitBacketSyntax(this)),!1!==e&&this.getBody().visit()}}]),r}(Nn);Pn=Ln,P(Ln,"accept",(function(t){return t.getToken()instanceof rn})),P(Ln,"parse",(function(t){var e=t.getIndex(),n=t.getToken(),r=function(t,e,n){for(var r,i,o=t,u=[],a=!1,s=null,c=null;;){var f=e[t];if(f instanceof rn)u.push(f);else if(f instanceof pn)if(u.length>0){var l=u.pop();if(l instanceof rn){if(0==u.length){r=t,i=f;break}}else l&&u.push(l),u.push(f)}else u.push(f);if(++t==e.length){var h=e[o],v=e[e.length-1],p=new Bn;p.parseStartToken(h),v instanceof Nn?p.parseEndSyntax(v):p.parseEndToken(v),c=new Cn(o,e.length-1,"未找到闭合括号",e.slice(t,e.length),p,n),s=new Error("未找到闭合括号"),a=!0;break}}return{hasError:a,error:s,syntax:c,endIndex:r,rightParenToken:i,bodyTokens:e.slice(o+1,r)}}(e,t.getTokens(),t);if(r.hasError)return r.syntax;if(r.rightParenToken&&r.endIndex){var i=r.rightParenToken,o=ti(r.bodyTokens,t),u=new Bn;return u.parseStartToken(n),u.parseEndToken(i),new Pn(e,r.endIndex,o,u,t)}return null})),P(Ln,"getWeight",(function(){return 900}));var An,In=function(t){return Mn(t)||jn(t)||Vn(t)},Mn=function(t){return t instanceof ge},jn=function(t){return t instanceof ve},Vn=function(t){return t instanceof Sn},_n=function(t,e){for(var n=[];;){var r=e[t++];if(!In(r))break;n.push(r)}return n};function Fn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}var Dn,Yn=function(e){Dt(r,e);var n=Fn(r);function r(e,i,o,u,a){var s;return t(this,r),P(Yt(s=n.call(this,e,i,u,a)),"code",void 0),s.code=o,s}return i(r,[{key:"getCode",value:function(){return this.code}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printFieldSyntax?t.printFieldSyntax(this,(function(t){return t.toString()})):`$F{${this.getCode()}}`}},{key:"visit",value:function(){var t=this.getContext().getVisitor();t&&t.visitFieldSyntax&&t.visitFieldSyntax(this)}}]),r}(Nn);function $n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}An=Yn,P(Yn,"accept",(function(t){return function(t,e){var n=e[t];if(n instanceof Je&&(t++,"F{"==e.slice(t,t+2).join(""))){var r=_n(t+=2,e);if(r&&r.length>0&&(n=e[t+=r.length])instanceof fn)return!0}}(t.getIndex(),t.getTokens())})),P(Yn,"parse",(function(t){var e=t.getIndex(),n=e,r=t.getToken(),i=t.getTokens(),o=_n(e+=3,i).join("");e+=o.length;var u=new Bn;return u.parseStartToken(r),u.parseEndToken(i[e]),new An(n,e,o,u,t)})),P(Yn,"getWeight",(function(){return 1100}));var Wn,Kn=function(e){Dt(r,e);var n=$n(r);function r(e,i,o,u,a){var s;return t(this,r),P(Yt(s=n.call(this,e,i,u,a)),"code",void 0),s.code=o,s}return i(r,[{key:"getCode",value:function(){return this.code}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printParameterSyntax?t.printParameterSyntax(this,(function(t){return t.toString()})):`$P{${this.getCode()}}`}},{key:"visit",value:function(){var t=this.getContext().getVisitor();t&&t.visitParameterSyntax&&t.visitParameterSyntax(this)}}]),r}(Nn);function Hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}Dn=Kn,P(Kn,"accept",(function(t){return function(t,e){var n=e[t];if(n instanceof Je&&(t++,"P{"==e.slice(t,t+2).join(""))){var r=_n(t+=2,e);if(r&&r.length>0&&(n=e[t+=r.length])instanceof fn)return!0}}(t.getIndex(),t.getTokens())})),P(Kn,"parse",(function(t){var e=t.getIndex(),n=e,r=t.getToken(),i=t.getTokens(),o=_n(e+=3,i).join("");e+=o.length;var u=new Bn;return u.parseStartToken(r),u.parseEndToken(i[e]),new Dn(n,e,o,u,t)})),P(Kn,"getWeight",(function(){return 1100}));var Gn,Jn=function(e){Dt(r,e);var n=Hn(r);function r(e,i,o,u,a){var s;return t(this,r),P(Yt(s=n.call(this,e,i,u,a)),"value",void 0),s.value=o,s}return i(r,[{key:"getValue",value:function(){return this.value}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printBooleanIdentifierSyntax?t.printBooleanIdentifierSyntax(this,(function(t){return t.toString()})):this.getValue()?"true":"false"}},{key:"isText",value:function(){return!0}},{key:"visit",value:function(){var t=this.getContext().getVisitor();t&&t.visitBooleanIdentifierSyntax&&t.visitBooleanIdentifierSyntax(this)}}]),r}(Nn);function zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}Wn=Jn,P(Jn,"getWeight",(function(){return 1e3})),P(Jn,"parse",(function(t){var e,n,r,i=t.getToken(),o=t.getIndex(),u=t.getTokens();"t"==i.toString()?(e=!0,n=u[r=o+3]):(e=!1,n=u[r=o+4]);var a=new Bn;return a.parseStartToken(i),a.parseEndToken(n),new Wn(o,r,e,a,t)})),Jn.accept=function(t){var e=t.getToken().toString();if("t"==e||"f"==e){var n=t.getIndex(),r=t.getTokens(),i=r.slice(n,n+4).join("");if("true"==i)return!0;if("fals"==i&&n+4<r.length&&"e"==r[n+4].toString())return!0}return!1};var qn,Un=function(e){Dt(r,e);var n=zn(r);function r(e,i,o,u,a){var s;return t(this,r),P(Yt(s=n.call(this,e,i,u,a)),"value",void 0),s.value=o,s}return i(r,[{key:"getValue",value:function(){return this.value}},{key:"toString",value:function(){return"null"}},{key:"isText",value:function(){return!0}},{key:"visit",value:function(){var t=this.getContext().getVisitor();t&&t.visitNullIdentifierSyntax&&t.visitNullIdentifierSyntax(this)}}]),r}(Nn);function Xn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}Gn=Un,P(Un,"getWeight",(function(){return 1e3})),P(Un,"parse",(function(t){var e,n,r=t.getToken(),i=t.getIndex(),o=t.getTokens();"n"==r.toString()&&(e=o[n=i+3]);var u=new Bn;return u.parseStartToken(r),u.parseEndToken(e),new Gn(i,n,null,u,t)})),Un.accept=function(t){if("n"==t.getToken().toString()){var e=t.getIndex();if("null"==t.getTokens().slice(e,e+4).join(""))return!0}return!1};var Zn,Qn=function(t,e){for(var n=[];t<e.length;){var r=e[t];if(!(r instanceof ve||r instanceof qe))break;n.push(r),t++}return n},tr=function(e){Dt(r,e);var n=Xn(r);function r(e,i,o,u,a){var s;return t(this,r),P(Yt(s=n.call(this,e,i,u,a)),"value",void 0),s.value=o,s}return i(r,[{key:"getValue",value:function(){return this.value}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printNumberIdentifierSyntax?t.printNumberIdentifierSyntax(this,(function(t){return t.toString()})):this.getValue()+""}},{key:"isText",value:function(){return!0}},{key:"visit",value:function(){var t=this.getContext().getVisitor();t&&t.visitNumberIdentifierSyntax&&t.visitNumberIdentifierSyntax(this)}}]),r}(Nn);function er(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}qn=tr,P(tr,"getWeight",(function(){return 1e3})),P(tr,"parse",(function(t){for(var e=t.getTokens(),n=t.getIndex(),r=n,i=Qn(n,e),o=n+i.length-1,u=e[o],a=parseFloat(i.join(""));;){var s=e[n-1];if(!(s instanceof le&&s.isCanSkip()))break;r--,n--}if(e[n-1]instanceof me){for(var c,f=n-1;--f>-1;){var l=e[f];if((l instanceof le||l instanceof Nn)&&!(l instanceof We)){c=e[f];break}}if(c){if(c instanceof le)c.isSubtractAhead()||(r--,a=0-a)}else r--,a=0-a}var h=new Bn;return h.parseStartToken(e[r]),h.parseEndToken(u),new qn(r,o,a,h,t)})),P(tr,"accept",(function(t){if(t.getToken()instanceof ve){var e=t.getTokens(),n=t.getIndex(),r=Qn(n,e).join("");return!isNaN(parseFloat(r))}return!1}));var nr=function(t,e){for(var n=0,r=t;e[--r]instanceof Ye;)n++;return n},rr=function(e){Dt(r,e);var n=er(r);function r(e,i,o,u,a){var s;return t(this,r),P(Yt(s=n.call(this,e,i,u,a)),"value",void 0),s.value=o,s}return i(r,[{key:"getValue",value:function(){return this.value}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printStringIdentifierSyntax?t.printStringIdentifierSyntax(this,(function(t){return t.toString()})):`"${this.getValue()}"`}},{key:"isText",value:function(){return!0}},{key:"visit",value:function(){var t=this.getContext().getVisitor();t&&t.visitStringIdentifierSyntax&&t.visitStringIdentifierSyntax(this)}}]),r}(Nn);function ir(){return ir="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},ir.apply(this,arguments)}function or(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}Zn=rr,P(rr,"accept",(function(t){return t.getToken()instanceof sn})),P(rr,"parse",(function(t){var e=t.getIndex(),n=t.getTokens(),r=function(t,e,n){var r=t,i=-1,o=[];[].push(e[++t]);for(var u=null,a=null;t<e.length;){var s=e[t];if(s instanceof sn&&nr(t,e)%2==0){i=t;break}if(o.push(s),++t==e.length){a=new Error("字符串未结束");var c=e[r],f=e[e.length-1],l=new Bn;l.parseStartToken(c),f instanceof Nn?l.parseEndSyntax(f):l.parseEndToken(f),u=new Cn(t,e.length-1,"字符串未结束",e.slice(t,e.length),l,n);break}}return{syntax:u,error:a,endIndex:i,strTokens:o}}(e,n,t);if(r.error)return r.syntax;var i=r.endIndex,o=new Bn;if(o.parseStartToken(n[e]),-1==i)return o.parseEndToken(n[n.length-1]),new Cn(e,n.length-1,"字符串未结束",n.slice(e,n.length),o,t);o.parseEndToken(n[i]);var u=function(t){if(-1!=t.indexOf('\\"')){var e=['"'];return e.push(t),e.push('"'),JSON.parse(e.join(""))}return t}(r.strTokens.join(""));return new Zn(e,i,u,o,t)})),P(rr,"getWeight",(function(){return 1400}));var ur=function(e){Dt(r,e);var n=or(r);function r(e,i,o,u,a,s){var c;return t(this,r),P(Yt(c=n.call(this,e,i,a,s)),"left",void 0),P(Yt(c),"right",void 0),c.left=o,c.right=u,c}return i(r,[{key:"getLeft",value:function(){return this.left}},{key:"getRight",value:function(){return this.right}},{key:"getSymbol",value:function(){}},{key:"getDisplaySymbol",value:function(){}},{key:"toString",value:function(){var t=[],e=this.getLeft();e&&t.push(e.toString()),this.constructor.toString();var n=this.getDisplaySymbol();void 0===n&&(n=this.getSymbol()),t.push(n);var r=this.getRight();return r&&t.push(r.toString()),t.join("")}}]),r}(Nn);function ar(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(ur,"SYMBOL",""),P(ur,"accept",(function(t){var e=t.getTokens(),n=t.getIndex();return e.slice(n,n+this.SYMBOL.length).join("")==this.SYMBOL&&this.extraAccept(t)})),P(ur,"extraAccept",(function(t){return!0})),P(ur,"parse",(function(t){var e,n,r,i,o=t.getTokens(),u=t.getIndex(),a=function(t,e){for(var n;--t>-1;){var r=e[t];if(!(r instanceof We)){r instanceof Nn&&(n={syntax:r,index:t});break}}return n}(u,o),s=new Bn;a?(e=a.index,r=a.syntax):(e=0,r=ti(o.slice(0,u),t));var c=function(t,e){for(var n;++t<e.length;){var r=e[t];if(!(r instanceof We)){r instanceof Nn&&(n={syntax:r,index:t});break}}return n}(u+this.SYMBOL.length-1,o);return c?(n=c.index,i=c.syntax):(n=o.length-1,i=ti(o.slice(u+2,o.length),t)),s.parseStartToken(o[u]),s.parseEndToken(o[u+this.SYMBOL.length-1]),new this(e,n,r,i,s,t)}));var sr=function(e){Dt(r,e);var n=ar(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printAddSyntax?t.printAddSyntax(this,(function(t){return t.toString()})):ir(Wt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitAddSyntax&&(e=t.visitAddSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(ur);function cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(sr,"SYMBOL","+"),P(sr,"getWeight",(function(){return 600}));var fr=function(e){Dt(r,e);var n=cr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printDivideSyntax?t.printDivideSyntax(this,(function(t){return t.toString()})):ir(Wt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitDivideSyntax&&(e=t.visitDivideSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(ur);function lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(fr,"SYMBOL","/"),P(fr,"getWeight",(function(){return 700}));var hr=function(e){Dt(r,e);var n=lr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printMultiplySyntax?t.printMultiplySyntax(this,(function(t){return t.toString()})):ir(Wt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitMultiplySyntax&&(e=t.visitMultiplySyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(ur);function vr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(hr,"SYMBOL","*"),P(hr,"getWeight",(function(){return 700}));var pr=function(e){Dt(r,e);var n=vr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printSubtractSyntax?t.printSubtractSyntax(this,(function(t){return t.toString()})):ir(Wt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitSubtractSyntax&&(e=t.visitSubtractSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(ur);function gr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(pr,"SYMBOL","-"),P(pr,"getWeight",(function(){return 601}));var yr=function(e){Dt(r,e);var n=gr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r)}(ur);function dr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}var xr=function(e){Dt(r,e);var n=dr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printEqualSyntax?t.printEqualSyntax(this,(function(t){return t.toString()})):ir(Wt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitEqualSyntax&&(e=t.visitEqualSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(yr);function mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(xr,"SYMBOL","=="),P(xr,"getWeight",(function(){return 500}));var Rr=function(e){Dt(r,e);var n=mr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getOperator",value:function(){return r.SYMBOL}},{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printGreaterOrEqualSyntax?t.printGreaterOrEqualSyntax(this,(function(t){return t.toString()})):ir(Wt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitGreaterOrEqualSyntax&&(e=t.visitGreaterOrEqualSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(yr);function Sr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Rr,"SYMBOL",">="),P(Rr,"getWeight",(function(){return 500}));var kr=function(e){Dt(r,e);var n=Sr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getOperator",value:function(){return Rr.SYMBOL}},{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"getDisplaySymbol",value:function(){return ir(Wt(r.prototype),"getSymbol",this).call(this)}}]),r}(Rr);function br(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(kr,"SYMBOL","&gt;="),P(kr,"getWeight",(function(){return 501}));var Or=function(e){Dt(r,e);var n=br(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printGreaterThanSyntax?t.printGreaterThanSyntax(this,(function(t){return t.toString()})):ir(Wt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitGreaterThanSyntax&&(e=t.visitGreaterThanSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(yr);function Tr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Or,"SYMBOL",">"),P(Or,"extraAccept",(function(t){var e=t.getIndex(),n=t.getTokens(),r=n[e+1];return!(r instanceof Ne)&&!((r=n[e-1])instanceof we)})),P(Or,"getWeight",(function(){return 400}));var Br=function(e){Dt(r,e);var n=Tr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return Or.SYMBOL}},{key:"getDisplaySymbol",value:function(){return ir(Wt(r.prototype),"getSymbol",this).call(this)}}]),r}(Or);function Nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Br,"SYMBOL","&gt;"),P(Br,"getWeight",(function(){return 401}));var Er=function(e){Dt(r,e);var n=Nr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printLessOrEqualSyntax?t.printLessOrEqualSyntax(this,(function(t){return t.toString()})):ir(Wt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitLessOrEqualSyntax&&(e=t.visitLessOrEqualSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(yr);function Pr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Er,"SYMBOL","<="),P(Er,"getWeight",(function(){return 500}));var Cr=function(e){Dt(r,e);var n=Pr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"getDisplaySymbol",value:function(){return ir(Wt(r.prototype),"getSymbol",this).call(this)}}]),r}(Er);function wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Cr,"SYMBOL","&lt;="),P(Cr,"getWeight",(function(){return 501}));var Lr=function(e){Dt(r,e);var n=wr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printLessThanSyntax?t.printLessThanSyntax(this,(function(t){return t.toString()})):ir(Wt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitLessThanSyntax&&(e=t.visitLessThanSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(yr);function Ar(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Lr,"SYMBOL","<"),P(Lr,"extraAccept",(function(t){var e=t.getIndex(),n=t.getTokens()[e+1];return!(n instanceof Pe||n instanceof Ne)})),P(Lr,"getWeight",(function(){return 400}));var Ir=function(e){Dt(r,e);var n=Ar(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"getDisplaySymbol",value:function(){return ir(Wt(r.prototype),"getSymbol",this).call(this)}}]),r}(Lr);function Mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Ir,"SYMBOL","&lt;"),P(Ir,"extraAccept",(function(t){var e=t.getIndex(),n=t.getTokens()[e+1];return!(n instanceof Pe||n instanceof Ne)})),P(Ir,"getWeight",(function(){return 401}));var jr=function(e){Dt(r,e);var n=Mr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printNotEqualSyntax?t.printNotEqualSyntax(this,(function(t){return t.toString()})):ir(Wt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitLessThanSyntax&&(e=t.visitLessThanSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(yr);function Vr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(jr,"SYMBOL","<>"),P(jr,"getWeight",(function(){return 500}));var _r=function(e){Dt(r,e);var n=Vr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"getDisplaySymbol",value:function(){return ir(Wt(r.prototype),"getSymbol",this).call(this)}}]),r}(jr);function Fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(_r,"SYMBOL","&lt;&gt;"),P(_r,"getWeight",(function(){return 501}));var Dr=function(e){Dt(r,e);var n=Fr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r)}(ur);function Yr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}var $r=function(e){Dt(r,e);var n=Yr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printAndSyntax?t.printAndSyntax(this,(function(t){return t.toString()})):ir(Wt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitAndSyntax&&(e=t.visitAndSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(Dr);function Wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P($r,"SYMBOL","&&"),P($r,"getWeight",(function(){return 300}));var Kr,Hr=function(e){Dt(r,e);var n=Wr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"getDisplaySymbol",value:function(){return ir(Wt(r.prototype),"getSymbol",this).call(this)}}]),r}($r);function Gr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(Hr,"SYMBOL","&amp;&amp;"),P(Hr,"getWeight",(function(){return 301}));var Jr=function(e){Dt(r,e);var n=Gr(r);function r(e,i,o,u,a){var s;return t(this,r),P(Yt(s=n.call(this,e,i,u,a)),"right",void 0),s.right=o,s}return i(r,[{key:"getRight",value:function(){return this.right}},{key:"toString",value:function(){var t=this.getContext().getPrinter();if(t&&t.printNotSyntax)return t.printNotSyntax(this,(function(t){return t.toString()}));var e=this.getRight();return`!${e?e.toString():""}`}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitNotSyntax&&(e=t.visitNotSyntax(this)),!1!==e&&this.getRight().visit()}}]),r}(Nn);function zr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}Kr=Jr,P(Jr,"accept",(function(t){return t.getToken()instanceof Me})),P(Jr,"parse",(function(t){var e,n,r=t.getTokens(),i=t.getIndex(),o=function(t,e){for(var n;++t<e.length;){var r=e[t];if(!(r instanceof We)){r instanceof Nn&&(n={syntax:r,index:t});break}}return n}(i,r);o?(e=o.index,n=o.syntax):(n=ti(r.slice(i+1,r.length),t),e=r.length-1);var u=new Bn;return u.parseStartToken(r[i]),u.parseEndToken(r[i]),new Kr(i,e,n,u,t)})),P(Jr,"getWeight",(function(){return 800}));var qr=function(e){Dt(r,e);var n=zr(r);function r(e,i,o,u,a,s){return t(this,r),n.call(this,e,i,o,u,a,s)}return i(r,[{key:"getOperator",value:function(){return r.SYMBOL}},{key:"getSymbol",value:function(){return this.getOperator()}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printOrSyntax?t.printOrSyntax(this,(function(t){return t.toString()})):ir(Wt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitOrSyntax&&(e=t.visitOrSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(Dr);function Ur(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}P(qr,"SYMBOL","||"),P(qr,"getWeight",(function(){return 300}));var Xr=function(e){Dt(r,e);var n=Ur(r);function r(e,i){var o,u,a,s;if(t(this,r),e.length>0){var c=e[0],f=e[e.length-1];u=c.getTokenStartIndex(),a=f.getTokenEndIndex();var l=c.getPosition(),h=f.getPosition();s=new Bn(l.getStartLine(),l.getStartCol(),h.getEndLine(),h.getEndCol())}else a=u=0,s=new Bn(0,0,0,0);return P(Yt(o=n.call(this,u,a,s,i)),"syntaxs",void 0),o.syntaxs=e,o}return i(r,[{key:"toString",value:function(){var t=this.getContext().getPrinter();if(t&&t.printParseResultSyntax)return t.printParseResultSyntax(this,(function(t){return t.toString()}));var e=[];return this.syntaxs.forEach((function(t){e.push(t.toString())})),e.join("")}},{key:"getSyntaxs",value:function(){return this.syntaxs}},{key:"visit",value:function(){var t=this.getContext().getVisitor();if(t&&t.visitParseResultSyntax)return t.visitParseResultSyntax(this);this.syntaxs.forEach((function(t){t.visit()}))}}]),r}(Nn),Zr=function(){function e(n,r,i,o){t(this,e),P(this,"index",void 0),P(this,"tokens",void 0),P(this,"printer",void 0),P(this,"visitor",void 0),P(this,"children",[]),this.index=n,this.tokens=r,this.printer=i,this.visitor=o}return i(e,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(t){this.index=t}},{key:"getTokens",value:function(){return this.tokens}},{key:"setTokens",value:function(t){this.tokens=t}},{key:"getToken",value:function(){return this.tokens[this.index]}},{key:"getPrinter",value:function(){return this.printer}},{key:"setPrinter",value:function(t){this.printer=t,this.children.forEach((function(e){e.setPrinter(t)}))}},{key:"setVisitor",value:function(t){this.visitor=t,this.children.forEach((function(e){e.setVisitor(t)}))}},{key:"getVisitor",value:function(){return this.visitor}},{key:"joinParentContext",value:function(t){t&&-1==t.children.indexOf(this)&&t.children.push(this)}}]),e}(),Qr=[Cn,Yn,Un,Ln,Jn,tr,rr,sr,Hr,fr,hr,pr,Rr,Or,Er,Lr,jr,kr,Br,Cr,Ir,_r,$r,xr,Jr,qr,Kn];Qr=Qr.sort((function(t,e){return e.getWeight()-t.getWeight()}));var ti=function(t,e){if(!t||0==t.length)return null;var n=Qr,r=new Zr;r.joinParentContext(e);for(var i=0,o=n.length;i<o;i++){for(var u=n[i],a=!0,s=0;s<t.length;s++){if(!(t[s]instanceof Nn)&&(a=!1,r.setIndex(s),r.setTokens(t),u.accept(r))){var c=u.parse(r),f=c.getTokenStartIndex(),l=c.getTokenEndIndex()-f+1;t.splice(f,l,c),s=f}}if(a)break}for(var h=[],v=0;v<t.length;v++){var p=t[v];if(p instanceof le)t.splice(v,1),v--,p.isCanSkip()||h.push(p);else if(0!=h.length){var g=new Bn;g.parseStartToken(h[0]),g.parseEndToken(h[h.length-1]),r.setIndex(v),r.setTokens(t);var y=new Cn(v-h.length,v--,"未识别表达式",h,g,r);t.splice(v-h.length,h.length,y),h=[]}}if(h.length>0){var d=new Bn;d.parseStartToken(h[0]),d.parseEndToken(h[h.length-1]),r.setIndex(0),r.setTokens(t);var x=new Cn(t.length-h.length,t.length-1,"未识别表达式",h,d,r);t.splice(t.length-h.length,h.length,x)}var m=[];return t.forEach((function(t){if(!(t instanceof Nn))throw Error("表达式识别失败！");m.push(t)})),r.setIndex(0),r.setTokens(m),new Xr(m,r)},ei=function(t){if("string"==typeof t&&""!=t.trim())try{return ti(function(t){return Tn(t)}(t))}catch(e){throw Error("表达式识别失败！表达式："+t)}return null},ni={};function ri(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}var ii=function(e){Dt(r,e);var n=ri(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r,[{key:"parseReportElement",value:function(t,e){var n=this.getNode().reportElement;n&&(t.setLeft(this.getIntegerAttr("x",n)),t.setTop(this.getIntegerAttr("y",n)+e.getTopOffset()),t.setWidth(this.getIntegerAttr("width",n)),t.setHeight(this.getIntegerAttr("height",n)))}},{key:"toBorder",value:function(t,e){var n=this.getAttribute(t,e);return"None"!=n?{type:n,color:this.getAttribute(t+"Color",e)}:null}},{key:"parseBox",value:function(t){var e=this.getNode().box;e&&(t.setBorderTop(this.toBorder("topBorder",e)),t.setBorderRight(this.toBorder("rightBorder",e)),t.setBorderBottom(this.toBorder("bottomBorder",e)),t.setBorderLeft(this.toBorder("leftBorder",e)))}},{key:"parseTextElement",value:function(t){var e=this.getNode().textElement;if(e){t.setHAlign(this.getAttribute("textAlignment",e)),t.setVAlign(this.getAttribute("verticalAlignment",e));var n=e.font;n&&(t.setFont(this.getAttribute("fontName",n)),t.setFontSize(this.getIntegerAttr("size",n)),t.setBold("true"==this.getAttribute("isBold",n)))}}},{key:"parseTextFieldExpression",value:function(t){var e=this.getNode().textFieldExpression;if(e){var n=e[jt];if(n){var r=null;try{var i=(r=function(t){var e=ni[t];return e||(e=ei(t),ni[t]=e),e}(n)).getSyntaxs();if(1==i.length){var o=i[0];if(o instanceof rr)return void t.setText(o.getValue());if(o instanceof Kn)return void t.setBindingPath(o.getCode());if(o instanceof Yn)return void t.setBindingPath(o.getCode())}if(r.isText())t.setText(r.toString());else{var u=function(t,e){return t.getContext().setPrinter(e),t.toString()}(r,{printAddSyntax:function(t){var e=t.getLeft(),n=t.getRight();return`CONCAT(${e.toString()},${n.toString()})`},printFieldSyntax:function(t){return`TOONE.GET("${t.getCode()}")`},printParameterSyntax:function(t){return`TOONE.GET("${t.getCode()}")`}});t.setFormula(u)}}catch(a){t.setText(n)}}}}},{key:"parse",value:function(t){var e=new se;return this.parseReportElement(e,t),this.parseBox(e,t),this.parseTextElement(e),this.parseTextFieldExpression(e),e}}]),r}(Kt);function oi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wt(t);if(e){var i=Wt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}ii.nodeName="textField";var ui=function(e){Dt(r,e);var n=oi(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r)}(zt);ui.nodeName="title";var ai=[Gt,Ut,Zt,re,oe,ae,ii,ui,te],si=function(t){for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=A(r[n],2),o=i[0],u=i[1];e=e.concat(ci(o,u))}return e},ci=function(t,e){var n=[];if(Vt(t)){var r=ai.find((function(e){return e.nodeName==t}));r&&(e=Array.isArray(e)?e:[e]).forEach((function(t){var e=new r(t,new _t);n.push(e)}))}return n},fi=function(){function e(){t(this,e),this.topOffset=0}return i(e,[{key:"appendTopOffset",value:function(t){this.topOffset+=t}},{key:"getTopOffset",value:function(){return this.topOffset}}]),e}(),li=function(t,e){-1===e.indexOf(t)&&e.push(t)},hi={version:"17.0.10",name:"",docProps:{},sheetCount:1,tabStripRatio:.6,tabStripVisible:!1,highlightInvalidData:!0,allowDynamicArray:!0,iterativeCalculation:!1,scrollbarShowMax:!1,showHorizontalScrollbar:!1,showVerticalScrollbar:!1,iterativeCalculationMaximumIterations:100,iterativeCalculationMaximumChange:.001,dynamicReferences:!1,customList:[],defaultSheetTabStyles:{},sheets:{},sheetTabCount:0,namedStyles:[],namedPatterns:{},pivotCaches:{}},vi={name:"Sheet1",isSelected:!0,visible:1,theme:"Office",colHeaderVisible:!1,rowHeaderVisible:!1,data:{dataTable:{},defaultDataNode:{style:{themeFont:"Body"}}},gridline:{showHorizontalGridline:!1,showVerticalGridline:!1},rowHeaderData:{defaultDataNode:{style:{themeFont:"Body"}}},colHeaderData:{defaultDataNode:{style:{themeFont:"Body"}}},defaultData:{},leftCellIndex:0,topCellIndex:0,selections:void 0,rowOutlines:{items:[]},columnOutlines:{items:[]},cellStates:{},states:{},outlineColumnOptions:{},autoMergeRangeInfos:[],shapeCollectionOption:{snapMode:0},printInfo:{paperSize:{height:1169.2913385826773,kind:9,width:826.7716535433073}},index:0,order:0},pi={left:0,center:1,right:2},gi={bottom:2,middle:1,top:0},yi=function(t){return JSON.parse(JSON.stringify(t))},di=function(t,e,n){var r=n.data.dataTable,i=r[t]||{},o=i[e]||{};return i[e]=o,r[t]=i,o},xi=function(){function e(n){t(this,e),this.sheet=n,this.sheetJson=null}return i(e,[{key:"toColumnWidths",value:function(t){var e=[];return t.forEach((function(n,r){r!=t.length-1&&e.push({size:t[r+1]-n})})),e}},{key:"toRowHeights",value:function(t){var e=[];return t.forEach((function(n,r){r!=t.length-1&&e.push({size:t[r+1]-n})})),e}},{key:"appnedBorderStyle",value:function(t,e,n){e&&(n[t]={style:1,color:e.color})}},{key:"setCellStyle",value:function(t,e,n){var r,i,o=n.getFont(),u=n.getFontSize(),a={hAlign:(i=n.getHAlign().toLowerCase(),pi[i]),vAlign:(r=n.getVAlign().toLowerCase(),gi[r]),font:`${u}pt ${o}`,fontFamily:o,fontSize:u+"pt"};this.appnedBorderStyle("borderTop",n.getBorderTop(),a),this.appnedBorderStyle("borderRight",n.getBorderRight(),a),this.appnedBorderStyle("borderBottom",n.getBorderBottom(),a),this.appnedBorderStyle("borderLeft",n.getBorderLeft(),a),function(t,e,n,r){var i=di(t,e,r),o=i.style||{};Object.assign(o,n),i.style=o}(t,e,a,this.sheetJson)}},{key:"setCells",value:function(t,e,n){var r=this;n.forEach((function(n){var i=n.getLeft(),o=n.getTop(),u=n.getRight(),a=n.getBottom(),s=e.indexOf(o),c=t.indexOf(i),f=e.indexOf(a)-s,l=t.indexOf(u)-c;!function(t,e,n,r){di(t,e,r).value=n}(s,c,n.getText(),r.sheetJson),function(t,e,n,r){n&&(di(t,e,r).bindingPath=n)}(s,c,n.getBindingPath(),r.sheetJson),function(t,e,n,r){n&&(di(t,e,r).formula=n)}(s,c,n.getFormula(),r.sheetJson);for(var h=0;h<f;h++)for(var v=0;v<l;v++)r.setCellStyle(s+h,c+v,n);(f>1||l>1)&&function(t,e,n,r,i){var o=i.spans||[];i.spans=o,o.push({row:t,rowCount:n,col:e,colCount:r})}(s,c,f,l,r.sheetJson)}))}},{key:"parseSheet",value:function(){var t=yi(vi);this.sheetJson=t;var e=this.sheet.getName();this.sheetJson.name=e;var n=[0],r=[0],i=this.sheet.getCells();i.forEach((function(t){var e=t.getTop(),i=t.getLeft();li(e,r),li(i,n),li(i+t.getWidth(),n),li(e+t.getHeight(),r)}));var o=function(t,e){return t-e};return n.sort(o),r.sort(o),function(t,e){e.columnCount=t}(n.length-1,this.sheetJson),function(t,e){e.rowCount=t}(r.length-1,this.sheetJson),function(t,e){e.columns=t}(this.toColumnWidths(n),this.sheetJson),function(t,e){e.rows=t}(this.toRowHeights(r),this.sheetJson),this.setCells(n,r,i),P({},e,this.sheetJson)}},{key:"genTRByTDs",value:function(t){var e=[0],n=[0];t.forEach((function(t){var r=t.getTop();-1==n.indexOf(r)&&n.push(r);var i=t.getLeft();-1==e.indexOf(i)&&e.push(i),i+=t.getWidth(),r+=t.getHeight(),-1==e.indexOf(i)&&e.push(i),-1==n.indexOf(r)&&n.push(r)})),e.sort((function(t,e){return t-e})),n.sort((function(t,e){return t-e}));for(var r=function(){var r=n[i];(new TR).setHeight(n[i+1]-r);for(var o=0;o<e.length-1;o++)t.forEach((function(t,e){t.getLeft(),t.getTop()}))},i=0;i<n.length-1;i++)r();return[]}},{key:"toJSON",value:function(){var t=yi(hi);return t.sheets=this.parseSheet(),t}}]),e}();return{JasperReportParser:function(){function e(n){t(this,e),this.jrxml=n}return i(e,[{key:"parse",value:function(){var t=new Mt.XMLParser({ignoreAttributes:!1}).parse(this.jrxml),e=si(t);if(e.length>0){var n=e[0].parse(new fi);return new xi(n).toJSON()}return null}}]),e}()}}));
