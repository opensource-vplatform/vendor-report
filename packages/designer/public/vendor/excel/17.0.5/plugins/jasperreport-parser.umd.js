!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t="undefined"!=typeof globalThis?globalThis:t||self).TOONE=t.TOONE||{},t.TOONE.Utils=t.TOONE.Utils||{},t.TOONE.Utils.JasperReport=e())}(this,(function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,n||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:String(n)}function r(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,n(i.key),i)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var n=function t(){if(this instanceof t){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(e,n))}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(n,e,r.get?r:{enumerable:!0,get:function(){return t[e]}})})),n}var a={};const c=u(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var s,f={},l={exports:{}},h={},p={};var y,v,g,d,m,R,T={};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function E(){return d||(d=1,function(t){var e=function(){if(s)return p;s=1,p.byteLength=function(t){var e=o(t),n=e[0],r=e[1];return 3*(n+r)/4-r},p.toByteArray=function(t){var r,i,u=o(t),a=u[0],c=u[1],s=new n(function(t,e,n){return 3*(e+n)/4-n}(0,a,c)),f=0,l=c>0?a-4:a;for(i=0;i<l;i+=4)r=e[t.charCodeAt(i)]<<18|e[t.charCodeAt(i+1)]<<12|e[t.charCodeAt(i+2)]<<6|e[t.charCodeAt(i+3)],s[f++]=r>>16&255,s[f++]=r>>8&255,s[f++]=255&r;return 2===c&&(r=e[t.charCodeAt(i)]<<2|e[t.charCodeAt(i+1)]>>4,s[f++]=255&r),1===c&&(r=e[t.charCodeAt(i)]<<10|e[t.charCodeAt(i+1)]<<4|e[t.charCodeAt(i+2)]>>2,s[f++]=r>>8&255,s[f++]=255&r),s},p.fromByteArray=function(e){for(var n,r=e.length,i=r%3,o=[],a=16383,c=0,s=r-i;c<s;c+=a)o.push(u(e,c,c+a>s?s:c+a));return 1===i?(n=e[r-1],o.push(t[n>>2]+t[n<<4&63]+"==")):2===i&&(n=(e[r-2]<<8)+e[r-1],o.push(t[n>>10]+t[n>>4&63]+t[n<<2&63]+"=")),o.join("")};for(var t=[],e=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;function o(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(e,n,r){for(var i,o,u=[],a=n;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),u.push(t[(o=i)>>18&63]+t[o>>12&63]+t[o>>6&63]+t[63&o]);return u.join("")}return e["-".charCodeAt(0)]=62,e["_".charCodeAt(0)]=63,p}(),n=(y||(y=1,T.read=function(t,e,n,r,i){var o,u,a=8*i-r-1,c=(1<<a)-1,s=c>>1,f=-7,l=n?i-1:0,h=n?-1:1,p=t[e+l];for(l+=h,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+l],l+=h,f-=8);for(u=o&(1<<-f)-1,o>>=-f,f+=r;f>0;u=256*u+t[e+l],l+=h,f-=8);if(0===o)o=1-s;else{if(o===c)return u?NaN:1/0*(p?-1:1);u+=Math.pow(2,r),o-=s}return(p?-1:1)*u*Math.pow(2,o-r)},T.write=function(t,e,n,r,i,o){var u,a,c,s=8*o-i-1,f=(1<<s)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,y=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,u=f):(u=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-u))<1&&(u--,c*=2),(e+=u+l>=1?h/c:h*Math.pow(2,1-l))*c>=2&&(u++,c/=2),u+l>=f?(a=0,u=f):u+l>=1?(a=(e*c-1)*Math.pow(2,i),u+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),u=0));i>=8;t[n+p]=255&a,p+=y,a/=256,i-=8);for(u=u<<i|a,s+=i;s>0;t[n+p]=255&u,p+=y,u/=256,s-=8);t[n+p-y]|=128*v}),T),r=function(){if(g)return v;g=1;var t={}.toString;return v=Array.isArray||function(e){return"[object Array]"==t.call(e)}}
/*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <http://feross.org>
   * @license  MIT
   */();function i(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=a.prototype:(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,n)}function c(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);a.TYPED_ARRAY_SUPPORT?(t=e).__proto__=a.prototype:t=h(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(e,n);t=u(t,r);var i=t.write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(a.isBuffer(e)){var n=0|d(e.length);return 0===(t=u(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?u(t,0):h(t,e);if("Buffer"===e.type&&r(e.data))return h(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(f(e),t=u(t,e<0?0:0|d(e)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|d(e.length);t=u(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function m(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(r)return H(t).length;e=(""+e).toLowerCase(),r=!0}}function R(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return _(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return N(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function E(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function x(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:S(t,e,n,r,i);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):S(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function S(t,e,n,r,i){var o,u=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;u=2,a/=2,c/=2,n/=2}function s(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}if(i){var f=-1;for(o=n;o<a;o++)if(s(t,o)===s(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===c)return f*u}else-1!==f&&(o-=o-f),f=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var l=!0,h=0;h<c;h++)if(s(t,o+h)!==s(e,h)){l=!1;break}if(l)return o}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var u=0;u<r;++u){var a=parseInt(e.substr(2*u,2),16);if(isNaN(a))return u;t[n+u]=a}return u}function O(t,e,n,r){return z(H(e,t.length-n),t,n,r)}function B(t,e,n,r){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function k(t,e,n,r){return B(t,e,n,r)}function A(t,e,n,r){return z(q(e),t,n,r)}function w(t,e,n,r){return z(function(t,e){for(var n,r,i,o=[],u=0;u<t.length&&!((e-=2)<0);++u)r=(n=t.charCodeAt(u))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function N(t,n,r){return 0===n&&r===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(n,r))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,u,a,c,s=t[i],f=null,l=s>239?4:s>223?3:s>191?2:1;if(i+l<=n)switch(l){case 1:s<128&&(f=s);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&s)<<6|63&o)>127&&(f=c);break;case 3:o=t[i+1],u=t[i+2],128==(192&o)&&128==(192&u)&&(c=(15&s)<<12|(63&o)<<6|63&u)>2047&&(c<55296||c>57343)&&(f=c);break;case 4:o=t[i+1],u=t[i+2],a=t[i+3],128==(192&o)&&128==(192&u)&&128==(192&a)&&(c=(15&s)<<18|(63&o)<<12|(63&u)<<6|63&a)>65535&&c<1114112&&(f=c)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return function(t){var e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=P));return n}(r)}t.Buffer=a,t.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},t.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==o.TYPED_ARRAY_SUPPORT?o.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,n){return c(null,t,e,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,n){return function(t,e,n,r){return f(e),e<=0?u(t,e):void 0!==n?"string"==typeof r?u(t,e).fill(n,r):u(t,e).fill(n):u(t,e)}(null,t,e,n)},a.allocUnsafe=function(t){return l(null,t)},a.allocUnsafeSlow=function(t){return l(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=a.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var u=t[n];if(!a.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},a.byteLength=m,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)E(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)E(this,e,e+3),E(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)E(this,e,e+7),E(this,e+1,e+6),E(this,e+2,e+5),E(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):R.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(t,e,n,r,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),u=(n>>>=0)-(e>>>=0),c=Math.min(o,u),s=this.slice(r,i),f=t.slice(e,n),l=0;l<c;++l)if(s[l]!==f[l]){o=s[l],u=f[l];break}return o<u?-1:u<o?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return x(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return x(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return O(this,t,e,n);case"ascii":return B(this,t,e,n);case"latin1":case"binary":return k(this,t,e,n);case"base64":return A(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function _(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function L(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=G(t[o]);return i}function F(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,r,i,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function K(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function Y(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(t,e,r,i,o){return o||Y(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function j(t,e,r,i,o){return o||Y(t,0,r,8),n.write(t,e,r,i,52,8),r+8}a.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=a.prototype;else{var i=e-t;n=new a(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},a.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},a.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},a.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),n.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),n.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),n.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),n.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||M(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):K(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):K(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}var o=0,u=1,a=0;for(this[e]=255&t;++o<n&&(u*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/u>>0)-a&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}var o=n-1,u=1,a=0;for(this[e+o]=255&t;--o>=0&&(u*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/u>>0)-a&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):K(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):K(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,n){return V(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return V(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},a.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var u=a.isBuffer(t)?t:H(new a(t,r).toString()),c=u.length;for(o=0;o<n-e;++o)this[o+e]=u[o%c]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function G(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],u=0;u<r;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(u+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){return e.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(W,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}(h)),h}function x(){if(R)return f;R=1;var t=(m||(m=1,function(t,e){var n=E(),r=n.Buffer;function i(t,e){for(var n in t)e[n]=t[n]}function o(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=o),i(r,o),o.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},o.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}}(l,l.exports)),l.exports).Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(n){var r;switch(this.encoding=function(n){var r=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(n);if("string"!=typeof r&&(t.isEncoding===e||!e(n)))throw new Error("Unknown encoding: "+n);return r||n}(n),this.encoding){case"utf16le":this.text=o,this.end=u,r=4;break;case"utf8":this.fillLast=i,r=4;break;case"base64":this.text=a,this.end=c,r=3;break;default:return this.write=s,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(r)}function r(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function i(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function o(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function a(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function s(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}return f.StringDecoder=n,n.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},n.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},n.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var o=r(e[i]);if(o>=0)return o>0&&(t.lastNeed=o-1),o;if(--i<n||-2===o)return 0;if(o=r(e[i]),o>=0)return o>0&&(t.lastNeed=o-2),o;if(--i<n||-2===o)return 0;if(o=r(e[i]),o>=0)return o>0&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},n.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},f}(function(t){t.parser=function(t,e){return new r(t,e)},t.SAXParser=r,t.SAXStream=o,t.createStream=function(t,e){return new o(t,e)},t.MAX_BUFFER_LENGTH=65536;var e,n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function r(e,i){if(!(this instanceof r))return new r(e,i);var o=this;!function(t){for(var e=0,r=n.length;e<r;e++)t[n[e]]=""}(o),o.q=o.c="",o.bufferCheckPosition=t.MAX_BUFFER_LENGTH,o.opt=i||{},o.opt.lowercase=o.opt.lowercase||o.opt.lowercasetags,o.looseCase=o.opt.lowercase?"toLowerCase":"toUpperCase",o.tags=[],o.closed=o.closedRoot=o.sawRoot=!1,o.tag=o.error=null,o.strict=!!e,o.noscript=!(!e&&!o.opt.noscript),o.state=O.BEGIN,o.strictEntities=o.opt.strictEntities,o.ENTITIES=o.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),o.attribList=[],o.opt.xmlns&&(o.ns=Object.create(l)),o.trackPosition=!1!==o.opt.position,o.trackPosition&&(o.position=o.line=o.column=0),k(o,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),r.prototype={end:function(){P(this)},write:function(e){var r=this;if(this.error)throw this.error;if(r.closed)return C(r,"Cannot write after close. Assign an onready handler.");if(null===e)return P(r);"object"==typeof e&&(e=e.toString());for(var i=0,o="";o=Y(e,i++),r.c=o,o;)switch(r.trackPosition&&(r.position++,"\n"===o?(r.line++,r.column=0):r.column++),r.state){case O.BEGIN:if(r.state=O.BEGIN_WHITESPACE,"\ufeff"===o)continue;U(r,o);continue;case O.BEGIN_WHITESPACE:U(r,o);continue;case O.TEXT:if(r.sawRoot&&!r.closedRoot){for(var c=i-1;o&&"<"!==o&&"&"!==o;)(o=Y(e,i++))&&r.trackPosition&&(r.position++,"\n"===o?(r.line++,r.column=0):r.column++);r.textNode+=e.substring(c,i-1)}"<"!==o||r.sawRoot&&r.closedRoot&&!r.strict?(g(o)||r.sawRoot&&!r.closedRoot||_(r,"Text data outside of root node."),"&"===o?r.state=O.TEXT_ENTITY:r.textNode+=o):(r.state=O.OPEN_WAKA,r.startTagPosition=r.position);continue;case O.SCRIPT:"<"===o?r.state=O.SCRIPT_ENDING:r.script+=o;continue;case O.SCRIPT_ENDING:"/"===o?r.state=O.CLOSE_TAG:(r.script+="<"+o,r.state=O.SCRIPT);continue;case O.OPEN_WAKA:if("!"===o)r.state=O.SGML_DECL,r.sgmlDecl="";else if(g(o));else if(R(h,o))r.state=O.OPEN_TAG,r.tagName=o;else if("/"===o)r.state=O.CLOSE_TAG,r.tagName="";else if("?"===o)r.state=O.PROC_INST,r.procInstName=r.procInstBody="";else{if(_(r,"Unencoded <"),r.startTagPosition+1<r.position){var s=r.position-r.startTagPosition;o=new Array(s).join(" ")+o}r.textNode+="<"+o,r.state=O.TEXT}continue;case O.SGML_DECL:(r.sgmlDecl+o).toUpperCase()===u?(A(r,"onopencdata"),r.state=O.CDATA,r.sgmlDecl="",r.cdata=""):r.sgmlDecl+o==="--"?(r.state=O.COMMENT,r.comment="",r.sgmlDecl=""):(r.sgmlDecl+o).toUpperCase()===a?(r.state=O.DOCTYPE,(r.doctype||r.sawRoot)&&_(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):">"===o?(A(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=O.TEXT):d(o)?(r.state=O.SGML_DECL_QUOTED,r.sgmlDecl+=o):r.sgmlDecl+=o;continue;case O.SGML_DECL_QUOTED:o===r.q&&(r.state=O.SGML_DECL,r.q=""),r.sgmlDecl+=o;continue;case O.DOCTYPE:">"===o?(r.state=O.TEXT,A(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=o,"["===o?r.state=O.DOCTYPE_DTD:d(o)&&(r.state=O.DOCTYPE_QUOTED,r.q=o));continue;case O.DOCTYPE_QUOTED:r.doctype+=o,o===r.q&&(r.q="",r.state=O.DOCTYPE);continue;case O.DOCTYPE_DTD:r.doctype+=o,"]"===o?r.state=O.DOCTYPE:d(o)&&(r.state=O.DOCTYPE_DTD_QUOTED,r.q=o);continue;case O.DOCTYPE_DTD_QUOTED:r.doctype+=o,o===r.q&&(r.state=O.DOCTYPE_DTD,r.q="");continue;case O.COMMENT:"-"===o?r.state=O.COMMENT_ENDING:r.comment+=o;continue;case O.COMMENT_ENDING:"-"===o?(r.state=O.COMMENT_ENDED,r.comment=N(r.opt,r.comment),r.comment&&A(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+o,r.state=O.COMMENT);continue;case O.COMMENT_ENDED:">"!==o?(_(r,"Malformed comment"),r.comment+="--"+o,r.state=O.COMMENT):r.state=O.TEXT;continue;case O.CDATA:"]"===o?r.state=O.CDATA_ENDING:r.cdata+=o;continue;case O.CDATA_ENDING:"]"===o?r.state=O.CDATA_ENDING_2:(r.cdata+="]"+o,r.state=O.CDATA);continue;case O.CDATA_ENDING_2:">"===o?(r.cdata&&A(r,"oncdata",r.cdata),A(r,"onclosecdata"),r.cdata="",r.state=O.TEXT):"]"===o?r.cdata+="]":(r.cdata+="]]"+o,r.state=O.CDATA);continue;case O.PROC_INST:"?"===o?r.state=O.PROC_INST_ENDING:g(o)?r.state=O.PROC_INST_BODY:r.procInstName+=o;continue;case O.PROC_INST_BODY:if(!r.procInstBody&&g(o))continue;"?"===o?r.state=O.PROC_INST_ENDING:r.procInstBody+=o;continue;case O.PROC_INST_ENDING:">"===o?(A(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=O.TEXT):(r.procInstBody+="?"+o,r.state=O.PROC_INST_BODY);continue;case O.OPEN_TAG:R(p,o)?r.tagName+=o:(I(r),">"===o?D(r):"/"===o?r.state=O.OPEN_TAG_SLASH:(g(o)||_(r,"Invalid character in tag name"),r.state=O.ATTRIB));continue;case O.OPEN_TAG_SLASH:">"===o?(D(r,!0),M(r)):(_(r,"Forward-slash in opening tag not followed by >"),r.state=O.ATTRIB);continue;case O.ATTRIB:if(g(o))continue;">"===o?D(r):"/"===o?r.state=O.OPEN_TAG_SLASH:R(h,o)?(r.attribName=o,r.attribValue="",r.state=O.ATTRIB_NAME):_(r,"Invalid attribute name");continue;case O.ATTRIB_NAME:"="===o?r.state=O.ATTRIB_VALUE:">"===o?(_(r,"Attribute without value"),r.attribValue=r.attribName,F(r),D(r)):g(o)?r.state=O.ATTRIB_NAME_SAW_WHITE:R(p,o)?r.attribName+=o:_(r,"Invalid attribute name");continue;case O.ATTRIB_NAME_SAW_WHITE:if("="===o)r.state=O.ATTRIB_VALUE;else{if(g(o))continue;_(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",A(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",">"===o?D(r):R(h,o)?(r.attribName=o,r.state=O.ATTRIB_NAME):(_(r,"Invalid attribute name"),r.state=O.ATTRIB)}continue;case O.ATTRIB_VALUE:if(g(o))continue;d(o)?(r.q=o,r.state=O.ATTRIB_VALUE_QUOTED):(_(r,"Unquoted attribute value"),r.state=O.ATTRIB_VALUE_UNQUOTED,r.attribValue=o);continue;case O.ATTRIB_VALUE_QUOTED:if(o!==r.q){"&"===o?r.state=O.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=o;continue}F(r),r.q="",r.state=O.ATTRIB_VALUE_CLOSED;continue;case O.ATTRIB_VALUE_CLOSED:g(o)?r.state=O.ATTRIB:">"===o?D(r):"/"===o?r.state=O.OPEN_TAG_SLASH:R(h,o)?(_(r,"No whitespace between attributes"),r.attribName=o,r.attribValue="",r.state=O.ATTRIB_NAME):_(r,"Invalid attribute name");continue;case O.ATTRIB_VALUE_UNQUOTED:if(!m(o)){"&"===o?r.state=O.ATTRIB_VALUE_ENTITY_U:r.attribValue+=o;continue}F(r),">"===o?D(r):r.state=O.ATTRIB;continue;case O.CLOSE_TAG:if(r.tagName)">"===o?M(r):R(p,o)?r.tagName+=o:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=O.SCRIPT):(g(o)||_(r,"Invalid tagname in closing tag"),r.state=O.CLOSE_TAG_SAW_WHITE);else{if(g(o))continue;T(h,o)?r.script?(r.script+="</"+o,r.state=O.SCRIPT):_(r,"Invalid tagname in closing tag."):r.tagName=o}continue;case O.CLOSE_TAG_SAW_WHITE:if(g(o))continue;">"===o?M(r):_(r,"Invalid characters in closing tag");continue;case O.TEXT_ENTITY:case O.ATTRIB_VALUE_ENTITY_Q:case O.ATTRIB_VALUE_ENTITY_U:var f,l;switch(r.state){case O.TEXT_ENTITY:f=O.TEXT,l="textNode";break;case O.ATTRIB_VALUE_ENTITY_Q:f=O.ATTRIB_VALUE_QUOTED,l="attribValue";break;case O.ATTRIB_VALUE_ENTITY_U:f=O.ATTRIB_VALUE_UNQUOTED,l="attribValue"}if(";"===o)if(r.opt.unparsedEntities){var E=K(r);r.entity="",r.state=f,r.write(E)}else r[l]+=K(r),r.entity="",r.state=f;else R(r.entity.length?v:y,o)?r.entity+=o:(_(r,"Invalid character in entity name"),r[l]+="&"+r.entity+o,r.entity="",r.state=f);continue;default:throw new Error(r,"Unknown state: "+r.state)}return r.position>=r.bufferCheckPosition&&function(e){for(var r=Math.max(t.MAX_BUFFER_LENGTH,10),i=0,o=0,u=n.length;o<u;o++){var a=e[n[o]].length;if(a>r)switch(n[o]){case"textNode":w(e);break;case"cdata":A(e,"oncdata",e.cdata),e.cdata="";break;case"script":A(e,"onscript",e.script),e.script="";break;default:C(e,"Max buffer length exceeded: "+n[o])}i=Math.max(i,a)}var c=t.MAX_BUFFER_LENGTH-i;e.bufferCheckPosition=c+e.position}(r),r}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;w(t=this),""!==t.cdata&&(A(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(A(t,"onscript",t.script),t.script="")}};try{e=c.Stream}catch(V){e=function(){}}e||(e=function(){});var i=t.EVENTS.filter((function(t){return"error"!==t&&"end"!==t}));function o(t,n){if(!(this instanceof o))return new o(t,n);e.apply(this),this._parser=new r(t,n),this.writable=!0,this.readable=!0;var u=this;this._parser.onend=function(){u.emit("end")},this._parser.onerror=function(t){u.emit("error",t),u._parser.error=null},this._decoder=null,i.forEach((function(t){Object.defineProperty(u,"on"+t,{get:function(){return u._parser["on"+t]},set:function(e){if(!e)return u.removeAllListeners(t),u._parser["on"+t]=e,e;u.on(t,e)},enumerable:!0,configurable:!1})}))}o.prototype=Object.create(e.prototype,{constructor:{value:o}}),o.prototype.write=function(t){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(t)){if(!this._decoder){var e=x().StringDecoder;this._decoder=new e("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},o.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},o.prototype.on=function(t,n){var r=this;return r._parser["on"+t]||-1===i.indexOf(t)||(r._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),r.emit.apply(r,e)}),e.prototype.on.call(r,t,n)};var u="[CDATA[",a="DOCTYPE",s="http://www.w3.org/XML/1998/namespace",f="http://www.w3.org/2000/xmlns/",l={xml:s,xmlns:f},h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function g(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function d(t){return'"'===t||"'"===t}function m(t){return">"===t||g(t)}function R(t,e){return t.test(e)}function T(t,e){return!R(t,e)}var E,S,b,O=0;for(var B in t.STATE={BEGIN:O++,BEGIN_WHITESPACE:O++,TEXT:O++,TEXT_ENTITY:O++,OPEN_WAKA:O++,SGML_DECL:O++,SGML_DECL_QUOTED:O++,DOCTYPE:O++,DOCTYPE_QUOTED:O++,DOCTYPE_DTD:O++,DOCTYPE_DTD_QUOTED:O++,COMMENT_STARTING:O++,COMMENT:O++,COMMENT_ENDING:O++,COMMENT_ENDED:O++,CDATA:O++,CDATA_ENDING:O++,CDATA_ENDING_2:O++,PROC_INST:O++,PROC_INST_BODY:O++,PROC_INST_ENDING:O++,OPEN_TAG:O++,OPEN_TAG_SLASH:O++,ATTRIB:O++,ATTRIB_NAME:O++,ATTRIB_NAME_SAW_WHITE:O++,ATTRIB_VALUE:O++,ATTRIB_VALUE_QUOTED:O++,ATTRIB_VALUE_CLOSED:O++,ATTRIB_VALUE_UNQUOTED:O++,ATTRIB_VALUE_ENTITY_Q:O++,ATTRIB_VALUE_ENTITY_U:O++,CLOSE_TAG:O++,CLOSE_TAG_SAW_WHITE:O++,SCRIPT:O++,SCRIPT_ENDING:O++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach((function(e){var n=t.ENTITIES[e],r="number"==typeof n?String.fromCharCode(n):n;t.ENTITIES[e]=r})),t.STATE)t.STATE[t.STATE[B]]=B;function k(t,e,n){t[e]&&t[e](n)}function A(t,e,n){t.textNode&&w(t),k(t,e,n)}function w(t){t.textNode=N(t.opt,t.textNode),t.textNode&&k(t,"ontext",t.textNode),t.textNode=""}function N(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function C(t,e){return w(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,k(t,"onerror",e),t}function P(t){return t.sawRoot&&!t.closedRoot&&_(t,"Unclosed root tag"),t.state!==O.BEGIN&&t.state!==O.BEGIN_WHITESPACE&&t.state!==O.TEXT&&C(t,"Unexpected end"),w(t),t.c="",t.closed=!0,k(t,"onend"),r.call(t,t.strict,t.opt),t}function _(t,e){if("object"!=typeof t||!(t instanceof r))throw new Error("bad call to strictFail");t.strict&&C(t,e)}function I(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,A(t,"onopentagstart",n)}function L(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),r=n[0],i=n[1];return e&&"xmlns"===t&&(r="xmlns",i=""),{prefix:r,local:i}}function F(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=L(t.attribName,!0),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==s)_(t,"xml: prefix must be bound to "+s+"\nActual: "+t.attribValue);else if("xmlns"===r&&t.attribValue!==f)_(t,"xmlns: prefix must be bound to "+f+"\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,A(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function D(t,e){if(t.opt.xmlns){var n=t.tag,r=L(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(_(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=r.prefix);var i=t.tags[t.tags.length-1]||t;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach((function(e){A(t,"onopennamespace",{prefix:e,uri:n.ns[e]})}));for(var o=0,u=t.attribList.length;o<u;o++){var a=t.attribList[o],c=a[0],s=a[1],f=L(c,!0),l=f.prefix,h=f.local,p=""===l?"":n.ns[l]||"",y={name:c,value:s,prefix:l,local:h,uri:p};l&&"xmlns"!==l&&!p&&(_(t,"Unbound namespace prefix: "+JSON.stringify(l)),y.uri=l),t.tag.attributes[c]=y,A(t,"onattribute",y)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),A(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=O.TEXT:t.state=O.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function M(t){if(!t.tagName)return _(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=O.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=O.SCRIPT);A(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--&&t.tags[e].name!==r;)_(t,"Unexpected close tag");if(e<0)return _(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=O.TEXT);t.tagName=n;for(var i=t.tags.length;i-- >e;){var o=t.tag=t.tags.pop();t.tagName=t.tag.name,A(t,"onclosetag",t.tagName);var u={};for(var a in o.ns)u[a]=o.ns[a];var c=t.tags[t.tags.length-1]||t;t.opt.xmlns&&o.ns!==c.ns&&Object.keys(o.ns).forEach((function(e){var n=o.ns[e];A(t,"onclosenamespace",{prefix:e,uri:n})}))}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=O.TEXT}function K(t){var e,n=t.entity,r=n.toLowerCase(),i="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),i=(e=parseInt(n,16)).toString(16)):(n=n.slice(1),i=(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(e)||i.toLowerCase()!==n?(_(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function U(t,e){"<"===e?(t.state=O.OPEN_WAKA,t.startTagPosition=t.position):g(e)||(_(t,"Non-whitespace before first tag."),t.textNode=e,t.state=O.TEXT)}function Y(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}O=t.STATE,String.fromCodePoint||(E=String.fromCharCode,S=Math.floor,b=function(){var t,e,n=[],r=-1,i=arguments.length;if(!i)return"";for(var o="";++r<i;){var u=Number(arguments[r]);if(!isFinite(u)||u<0||u>1114111||S(u)!==u)throw RangeError("Invalid code point: "+u);u<=65535?n.push(u):(t=55296+((u-=65536)>>10),e=u%1024+56320,n.push(t,e)),(r+1===i||n.length>16384)&&(o+=E.apply(null,n),n.length=0)}return o},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:b,configurable:!0,writable:!0}):String.fromCodePoint=b)})(a);var S,b,O=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},B=O,k={copyOptions:function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},ensureFlagExists:function(t,e){t in e&&"boolean"==typeof e[t]||(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||"number"!=typeof t.spaces&&"string"!=typeof t.spaces)&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){"alwaysArray"in t&&("boolean"==typeof t.alwaysArray||B(t.alwaysArray))||(t.alwaysArray=!1)},ensureKeyExists:function(t,e){t+"Key"in e&&"string"==typeof e[t+"Key"]||(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}},A=a,w=k,N=O;function C(t){var e=Number(t);if(!isNaN(e))return e;var n=t.toLowerCase();return"true"===n||"false"!==n&&t}function P(t,e){var n;if(S.compact){if(!b[S[t+"Key"]]&&(N(S.alwaysArray)?-1!==S.alwaysArray.indexOf(S[t+"Key"]):S.alwaysArray)&&(b[S[t+"Key"]]=[]),b[S[t+"Key"]]&&!N(b[S[t+"Key"]])&&(b[S[t+"Key"]]=[b[S[t+"Key"]]]),t+"Fn"in S&&"string"==typeof e&&(e=S[t+"Fn"](e,b)),"instruction"===t&&("instructionFn"in S||"instructionNameFn"in S))for(n in e)if(e.hasOwnProperty(n))if("instructionFn"in S)e[n]=S.instructionFn(e[n],n,b);else{var r=e[n];delete e[n],e[S.instructionNameFn(n,r,b)]=r}N(b[S[t+"Key"]])?b[S[t+"Key"]].push(e):b[S[t+"Key"]]=e}else{b[S.elementsKey]||(b[S.elementsKey]=[]);var i={};if(i[S.typeKey]=t,"instruction"===t){for(n in e)if(e.hasOwnProperty(n))break;i[S.nameKey]="instructionNameFn"in S?S.instructionNameFn(n,e,b):n,S.instructionHasAttributes?(i[S.attributesKey]=e[n][S.attributesKey],"instructionFn"in S&&(i[S.attributesKey]=S.instructionFn(i[S.attributesKey],n,b))):("instructionFn"in S&&(e[n]=S.instructionFn(e[n],n,b)),i[S.instructionKey]=e[n])}else t+"Fn"in S&&(e=S[t+"Fn"](e,b)),i[S[t+"Key"]]=e;S.addParent&&(i[S.parentKey]=b),b[S.elementsKey].push(i)}}function _(t){var e;if("attributesFn"in S&&t&&(t=S.attributesFn(t,b)),(S.trim||"attributeValueFn"in S||"attributeNameFn"in S||S.nativeTypeAttributes)&&t)for(e in t)if(t.hasOwnProperty(e)&&(S.trim&&(t[e]=t[e].trim()),S.nativeTypeAttributes&&(t[e]=C(t[e])),"attributeValueFn"in S&&(t[e]=S.attributeValueFn(t[e],e,b)),"attributeNameFn"in S)){var n=t[e];delete t[e],t[S.attributeNameFn(e,t[e],b)]=n}return t}function I(t){var e={};if(t.body&&("xml"===t.name.toLowerCase()||S.instructionHasAttributes)){for(var n,r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(n=r.exec(t.body));)e[n[1]]=n[2]||n[3]||n[4];e=_(e)}if("xml"===t.name.toLowerCase()){if(S.ignoreDeclaration)return;b[S.declarationKey]={},Object.keys(e).length&&(b[S.declarationKey][S.attributesKey]=e),S.addParent&&(b[S.declarationKey][S.parentKey]=b)}else{if(S.ignoreInstruction)return;S.trim&&(t.body=t.body.trim());var i={};S.instructionHasAttributes&&Object.keys(e).length?(i[t.name]={},i[t.name][S.attributesKey]=e):i[t.name]=t.body,P("instruction",i)}}function L(t,e){var n;if("object"==typeof t&&(e=t.attributes,t=t.name),e=_(e),"elementNameFn"in S&&(t=S.elementNameFn(t,b)),S.compact){var r;if(n={},!S.ignoreAttributes&&e&&Object.keys(e).length)for(r in n[S.attributesKey]={},e)e.hasOwnProperty(r)&&(n[S.attributesKey][r]=e[r]);!(t in b)&&(N(S.alwaysArray)?-1!==S.alwaysArray.indexOf(t):S.alwaysArray)&&(b[t]=[]),b[t]&&!N(b[t])&&(b[t]=[b[t]]),N(b[t])?b[t].push(n):b[t]=n}else b[S.elementsKey]||(b[S.elementsKey]=[]),(n={})[S.typeKey]="element",n[S.nameKey]=t,!S.ignoreAttributes&&e&&Object.keys(e).length&&(n[S.attributesKey]=e),S.alwaysChildren&&(n[S.elementsKey]=[]),b[S.elementsKey].push(n);n[S.parentKey]=b,b=n}function F(t){S.ignoreText||(t.trim()||S.captureSpacesBetweenElements)&&(S.trim&&(t=t.trim()),S.nativeType&&(t=C(t)),S.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),P("text",t))}function D(t){S.ignoreComment||(S.trim&&(t=t.trim()),P("comment",t))}function M(t){var e=b[S.parentKey];S.addParent||delete b[S.parentKey],b=e}function K(t){S.ignoreCdata||(S.trim&&(t=t.trim()),P("cdata",t))}function U(t){S.ignoreDoctype||(t=t.replace(/^ /,""),S.trim&&(t=t.trim()),P("doctype",t))}function Y(t){t.note=t}var V=function(t,e){var n=A.parser(!0,{}),r={};if(b=r,S=function(t){return S=w.copyOptions(t),w.ensureFlagExists("ignoreDeclaration",S),w.ensureFlagExists("ignoreInstruction",S),w.ensureFlagExists("ignoreAttributes",S),w.ensureFlagExists("ignoreText",S),w.ensureFlagExists("ignoreComment",S),w.ensureFlagExists("ignoreCdata",S),w.ensureFlagExists("ignoreDoctype",S),w.ensureFlagExists("compact",S),w.ensureFlagExists("alwaysChildren",S),w.ensureFlagExists("addParent",S),w.ensureFlagExists("trim",S),w.ensureFlagExists("nativeType",S),w.ensureFlagExists("nativeTypeAttributes",S),w.ensureFlagExists("sanitize",S),w.ensureFlagExists("instructionHasAttributes",S),w.ensureFlagExists("captureSpacesBetweenElements",S),w.ensureAlwaysArrayExists(S),w.ensureKeyExists("declaration",S),w.ensureKeyExists("instruction",S),w.ensureKeyExists("attributes",S),w.ensureKeyExists("text",S),w.ensureKeyExists("comment",S),w.ensureKeyExists("cdata",S),w.ensureKeyExists("doctype",S),w.ensureKeyExists("type",S),w.ensureKeyExists("name",S),w.ensureKeyExists("elements",S),w.ensureKeyExists("parent",S),S}(e),n.opt={strictEntities:!0},n.onopentag=L,n.ontext=F,n.oncomment=D,n.onclosetag=M,n.onerror=Y,n.oncdata=K,n.ondoctype=U,n.onprocessinginstruction=I,n.write(t).close(),r[S.elementsKey]){var i=r[S.elementsKey];delete r[S.elementsKey],r[S.elementsKey]=i,delete r.text}return r},j=k,W=V;var G,H,q=k,z=O;function X(t,e,n){return(!n&&t.spaces?"\n":"")+Array(e+1).join(t.spaces)}function J(t,e,n){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,H,G));var r,i,o,u,a=[];for(r in t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(u=e.noQuotesForNativeAttributes&&"string"!=typeof t[r]?"":'"',i=(i=""+t[r]).replace(/"/g,"&quot;"),o="attributeNameFn"in e?e.attributeNameFn(r,i,H,G):r,a.push(e.spaces&&e.indentAttributes?X(e,n+1,!1):" "),a.push(o+"="+u+("attributeValueFn"in e?e.attributeValueFn(i,r,H,G):i)+u));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&a.push(X(e,n,!1)),a.join("")}function Q(t,e,n){return G=t,H="xml",e.ignoreDeclaration?"":"<?xml"+J(t[e.attributesKey],e,n)+"?>"}function $(t,e,n){if(e.ignoreInstruction)return"";var r;for(r in t)if(t.hasOwnProperty(r))break;var i="instructionNameFn"in e?e.instructionNameFn(r,t[r],H,G):r;if("object"==typeof t[r])return G=t,H=i,"<?"+i+J(t[r][e.attributesKey],e,n)+"?>";var o=t[r]?t[r]:"";return"instructionFn"in e&&(o=e.instructionFn(o,r,H,G)),"<?"+i+(o?" "+o:"")+"?>"}function Z(t,e){return e.ignoreComment?"":"\x3c!--"+("commentFn"in e?e.commentFn(t,H,G):t)+"--\x3e"}function tt(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,H,G):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function et(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,H,G):t)+">"}function nt(t,e){return e.ignoreText?"":(t=(t=(t=""+t).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,H,G):t)}function rt(t,e,n,r){return t.reduce((function(t,i){var o=X(e,n,r&&!t);switch(i.type){case"element":return t+o+function(t,e,n){G=t,H=t.name;var r=[],i="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;r.push("<"+i),t[e.attributesKey]&&r.push(J(t[e.attributesKey],e,n));var o=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&"preserve"===t[e.attributesKey]["xml:space"];return o||(o="fullTagEmptyElementFn"in e?e.fullTagEmptyElementFn(t.name,t):e.fullTagEmptyElement),o?(r.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(r.push(rt(t[e.elementsKey],e,n+1)),G=t,H=t.name),r.push(e.spaces&&function(t,e){var n;if(t.elements&&t.elements.length)for(n=0;n<t.elements.length;++n)switch(t.elements[n][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;default:return!0}return!1}(t,e)?"\n"+Array(n+1).join(e.spaces):""),r.push("</"+i+">")):r.push("/>"),r.join("")}(i,e,n);case"comment":return t+o+Z(i[e.commentKey],e);case"doctype":return t+o+et(i[e.doctypeKey],e);case"cdata":return t+(e.indentCdata?o:"")+tt(i[e.cdataKey],e);case"text":return t+(e.indentText?o:"")+nt(i[e.textKey],e);case"instruction":var u={};return u[i[e.nameKey]]=i[e.attributesKey]?i:i[e.instructionKey],t+(e.indentInstruction?o:"")+$(u,e,n)}}),"")}function it(t,e,n){var r;for(r in t)if(t.hasOwnProperty(r))switch(r){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||n)return!0;break;case e.cdataKey:if(e.indentCdata||n)return!0;break;case e.instructionKey:if(e.indentInstruction||n)return!0;break;case e.doctypeKey:case e.commentKey:default:return!0}return!1}function ot(t,e,n,r,i){G=t,H=e;var o="elementNameFn"in n?n.elementNameFn(e,t):e;if(null==t||""===t)return"fullTagEmptyElementFn"in n&&n.fullTagEmptyElementFn(e,t)||n.fullTagEmptyElement?"<"+o+"></"+o+">":"<"+o+"/>";var u=[];if(e){if(u.push("<"+o),"object"!=typeof t)return u.push(">"+nt(t,n)+"</"+o+">"),u.join("");t[n.attributesKey]&&u.push(J(t[n.attributesKey],n,r));var a=it(t,n,!0)||t[n.attributesKey]&&"preserve"===t[n.attributesKey]["xml:space"];if(a||(a="fullTagEmptyElementFn"in n?n.fullTagEmptyElementFn(e,t):n.fullTagEmptyElement),!a)return u.push("/>"),u.join("");u.push(">")}return u.push(ut(t,n,r+1,!1)),G=t,H=e,e&&u.push((i?X(n,r,!1):"")+"</"+o+">"),u.join("")}function ut(t,e,n,r){var i,o,u,a=[];for(o in t)if(t.hasOwnProperty(o))for(u=z(t[o])?t[o]:[t[o]],i=0;i<u.length;++i){switch(o){case e.declarationKey:a.push(Q(u[i],e,n));break;case e.instructionKey:a.push((e.indentInstruction?X(e,n,r):"")+$(u[i],e,n));break;case e.attributesKey:case e.parentKey:break;case e.textKey:a.push((e.indentText?X(e,n,r):"")+nt(u[i],e));break;case e.cdataKey:a.push((e.indentCdata?X(e,n,r):"")+tt(u[i],e));break;case e.doctypeKey:a.push(X(e,n,r)+et(u[i],e));break;case e.commentKey:a.push(X(e,n,r)+Z(u[i],e));break;default:a.push(X(e,n,r)+ot(u[i],o,e,n,it(u[i],e)))}r=r&&!a.length}return a.join("")}var at=function(t,e){e=function(t){var e=q.copyOptions(t);return q.ensureFlagExists("ignoreDeclaration",e),q.ensureFlagExists("ignoreInstruction",e),q.ensureFlagExists("ignoreAttributes",e),q.ensureFlagExists("ignoreText",e),q.ensureFlagExists("ignoreComment",e),q.ensureFlagExists("ignoreCdata",e),q.ensureFlagExists("ignoreDoctype",e),q.ensureFlagExists("compact",e),q.ensureFlagExists("indentText",e),q.ensureFlagExists("indentCdata",e),q.ensureFlagExists("indentAttributes",e),q.ensureFlagExists("indentInstruction",e),q.ensureFlagExists("fullTagEmptyElement",e),q.ensureFlagExists("noQuotesForNativeAttributes",e),q.ensureSpacesExists(e),"number"==typeof e.spaces&&(e.spaces=Array(e.spaces+1).join(" ")),q.ensureKeyExists("declaration",e),q.ensureKeyExists("instruction",e),q.ensureKeyExists("attributes",e),q.ensureKeyExists("text",e),q.ensureKeyExists("comment",e),q.ensureKeyExists("cdata",e),q.ensureKeyExists("doctype",e),q.ensureKeyExists("type",e),q.ensureKeyExists("name",e),q.ensureKeyExists("elements",e),e}(e);var n=[];return G=t,H="_root_",e.compact?n.push(ut(t,e,0,!0)):(t[e.declarationKey]&&n.push(Q(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&n.push(rt(t[e.elementsKey],e,0,!n.length))),n.join("")},ct=at,st={xml2js:V,xml2json:function(t,e){var n,r,i;return n=function(t){var e=j.copyOptions(t);return j.ensureSpacesExists(e),e}(e),r=W(t,n),i="compact"in n&&n.compact?"_parent":"parent",("addParent"in n&&n.addParent?JSON.stringify(r,(function(t,e){return t===i?"_":e}),n.spaces):JSON.stringify(r,null,n.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},js2xml:at,json2xml:function(t,e){t instanceof Buffer&&(t=t.toString());var n=null;if("string"==typeof t)try{n=JSON.parse(t)}catch(r){throw new Error("The JSON structure is invalid")}else n=t;return ct(n,e)}},ft=function(){function e(n){t(this,e),this.element=n}return i(e,[{key:"getElement",value:function(){return this.element}},{key:"getParentContext",value:function(){}}]),e}();function lt(t,e){return(lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ht(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lt(t,e)}function pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return pt(t)}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gt=function(){function e(n,r){t(this,e),this.node=n,this.context=r}return i(e,[{key:"createChildren",value:function(t){return t=t||this.node,qr(t)}},{key:"getIntegerAttr",value:function(t,e){return parseInt(this.getAttribute(t,e))}},{key:"getAttribute",value:function(t,e){var n=(e=e||this.node).attributes;return n?n[t]:null}},{key:"getNode",value:function(){return this.node}},{key:"parse",value:function(t){}}]),e}();function dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}var mt=function(e){ht(r,e);var n=dt(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r,[{key:"adjustTopWithColumnWidth",value:function(t,e){if(t.length>0){var n=0,r=e.getColumnWidth();t.forEach((function(t){var i=t.getLeft(),o=t.getWidth(),u=t.getHeight();u>n&&(n=u),i+o>=r?(t.setTop(e.getTopOffset()),e.appendTopOffset(n),n=0):t.setTop(e.getTopOffset())}))}}},{key:"parse",value:function(t){var e=this.createChildren(),n=[];return e.forEach((function(e){var r=e.parse(t);n.push(r)})),n}}]),r}(gt);mt.nodeName="band";var Rt=function(t,e){var n=e.elements;return null==n?void 0:n.find((function(e){return"element"==e.type&&e.name==t}))},Tt=function(t){var e=t.elements,n=null==e?void 0:e.find((function(t){return"cdata"==t.type}));if(n)return n.cdata;var r=null==e?void 0:e.find((function(t){return"text"==t.type}));return r?r.text:null};function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}var xt=function(e){ht(r,e);var n=Et(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r,[{key:"parse",value:function(t){var e=[];return this.createChildren().forEach((function(n){var r=n.parse(t);r&&(Array.isArray(r)?e=e.concat(r):e.push(r))})),e}},{key:"getHeight",value:function(){var t=this.getNode(),e=Rt("band",t);return e?this.getIntegerAttr("height",e):0}}]),r}(gt);function St(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}var bt=function(e){ht(r,e);var n=St(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r)}(xt);function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}bt.nodeName="columnFooter";var Bt=function(e){ht(r,e);var n=Ot(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r)}(xt);function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Bt.nodeName="columnHeader";var At=function(e){ht(r,e);var n=kt(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r)}(xt);function wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}At.nodeName="detail";var Nt=function(e){ht(r,e);var n=wt(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r,[{key:"getHeight",value:function(){var t=0,e=this.createChildren();return e&&e.forEach((function(e){t+=e.getHeight()})),t}}]),r}(xt);function Ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Nt.nodeName="group";var Pt=function(e){ht(r,e);var n=Ct(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r)}(xt);function _t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Pt.nodeName="groupFooter";var It=function(e){ht(r,e);var n=_t(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r)}(xt);function Lt(t,e,r){return(e=n(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}It.nodeName="groupHeader";var Ft=function(){function e(){t(this,e),Lt(this,"cells",[])}return i(e,[{key:"setName",value:function(t){this.name=t}},{key:"getName",value:function(){return this.name}},{key:"setOrientation",value:function(t){this.orientation=t}},{key:"getOrientation",value:function(){return this.orientation}},{key:"setMarginLeft",value:function(t){this.marginLeft=t}},{key:"getMarginLeft",value:function(){return this.marginLeft}},{key:"setMarginRight",value:function(t){this.marginRight=t}},{key:"getMarginRight",value:function(){return this.marginRight}},{key:"setMarginTop",value:function(t){this.marginTop=t}},{key:"getMarginTop",value:function(){return this.marginTop}},{key:"setMarginBottom",value:function(t){this.marginBottom=t}},{key:"getMarginBottom",value:function(){return this.marginBottom}},{key:"appendCell",value:function(t){Array.isArray(t)?this.cells=this.cells.concat(t):this.cells.push(t)}},{key:"getCells",value:function(){return this.cells}}]),e}();function Dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}var Mt=function(e){ht(r,e);var n=Dt(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r,[{key:"parse",value:function(t){var e=this,n=new Ft;n.setName(this.getAttribute("name")),n.setOrientation("Landscape"==this.getAttribute("orientation")?"landscope":"portrait"),n.setMarginTop(this.getIntegerAttr("topMargin")),n.setMarginRight(this.getIntegerAttr("rightMargin")),n.setMarginBottom(this.getIntegerAttr("bottomMargin")),n.setMarginLeft(this.getIntegerAttr("leftMargin"));var r=this.getIntegerAttr("columnWidth");t.setColumnWidth(r);var i=[],o=this.getNode();return["title","pageHeader","columnHeader","detail","group","columnFooter","pageFooter","summary"].forEach((function(n){var r=Rt(n,o);if(r){var u=zr(r);if(u){var a=u.getHeight();e.createChildren(r).forEach((function(e){var n=e.parse(t);n&&(Array.isArray(n)?i=i.concat(n):i.push(n))})),t.appendTopOffset(a)}}})),n.appendCell(i),n}}]),r}(gt);function Kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Mt.nodeName="jasperReport";var Ut=function(e){ht(r,e);var n=Kt(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r)}(xt);function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Ut.nodeName="pageFooter";var Vt=function(e){ht(r,e);var n=Yt(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r)}(xt);Vt.nodeName="pageHeader";var jt=function(){function e(){t(this,e)}return i(e,[{key:"setLeft",value:function(t){this.left=t}},{key:"getLeft",value:function(){return this.left}},{key:"getRight",value:function(){return this.left+this.width}},{key:"getBottom",value:function(){return this.top+this.height}},{key:"setTop",value:function(t){this.top=t}},{key:"getTop",value:function(){return this.top}},{key:"setWidth",value:function(t){this.width=t}},{key:"getWidth",value:function(){return this.width}},{key:"setHeight",value:function(t){this.height=t}},{key:"getHeight",value:function(){return this.height}},{key:"setHAlign",value:function(t){this.hAlign=t}},{key:"getHAlign",value:function(){return this.hAlign}},{key:"setVAlign",value:function(t){this.vAlign=t}},{key:"getVAlign",value:function(){return this.vAlign}},{key:"setFont",value:function(t){this.font=t}},{key:"getFont",value:function(){return this.font}},{key:"setFontSize",value:function(t){this.fontSize=t}},{key:"getFontSize",value:function(){return this.fontSize}},{key:"setBold",value:function(t){this.bold=t}},{key:"isBold",value:function(){return this.bold}},{key:"setText",value:function(t){this.text=t}},{key:"getText",value:function(){return this.text}},{key:"setFormula",value:function(t){this.formula=t}},{key:"getFormula",value:function(){return this.formula}},{key:"setBorderTop",value:function(t){this.borderTop=t}},{key:"getBorderTop",value:function(){return this.borderTop}},{key:"setBorderRight",value:function(t){this.borderRight=t}},{key:"getBorderRight",value:function(){return this.borderRight}},{key:"setBorderBottom",value:function(t){this.borderBottom=t}},{key:"getBorderBottom",value:function(){return this.borderBottom}},{key:"setBorderLeft",value:function(t){this.borderLeft=t}},{key:"getBorderLeft",value:function(){return this.borderLeft}},{key:"setColSpan",value:function(t){this.colSpan=t}},{key:"setRowSpan",value:function(t){this.rowSpan=t}},{key:"setBindingPath",value:function(t){this.bindingPath=t}},{key:"getBindingPath",value:function(){return this.bindingPath}},{key:"setWordWrap",value:function(t){this.wordWrap=t}},{key:"isWordWrap",value:function(){return this.wordWrap}}]),e}();function Wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}var Gt=function(e){ht(r,e);var n=Wt(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r,[{key:"parseReportElement",value:function(t,e){var n=this.getNode(),r=Rt("reportElement",n);r&&(t.setLeft(this.getIntegerAttr("x",r)),t.setTop(this.getIntegerAttr("y",r)+e.getTopOffset()),t.setWidth(this.getIntegerAttr("width",r)),t.setHeight(this.getIntegerAttr("height",r)))}},{key:"toBorder",value:function(t,e){var n=this.getAttribute(t,e);return"None"!=n?{type:n,color:this.getAttribute(t+"Color",e)}:null}},{key:"parseBox",value:function(t){var e=this.getNode(),n=Rt("box",e);n&&(t.setBorderTop(this.toBorder("topBorder",n)),t.setBorderRight(this.toBorder("rightBorder",n)),t.setBorderBottom(this.toBorder("bottomBorder",n)),t.setBorderLeft(this.toBorder("leftBorder",n)))}},{key:"parseTextElement",value:function(t){var e=this.getNode(),n=Rt("textElement",e);if(n){t.setHAlign(this.getAttribute("textAlignment",n)),t.setVAlign(this.getAttribute("verticalAlignment",n));var r=Rt("font",n);r&&(t.setFont(this.getAttribute("fontName",r)),t.setFontSize(this.getIntegerAttr("size",r)),t.setBold("true"==this.getAttribute("isBold",r)))}}},{key:"parseText",value:function(t){var e=this.getNode(),n=Rt("text",e),r=Tt(n);r&&(r=r.replaceAll("\n","")),t.setText(r)}},{key:"parse",value:function(t){var e=new jt;return e.setWordWrap(!0),this.parseReportElement(e,t),this.parseBox(e,t),this.parseTextElement(e),this.parseText(e),e}}]),r}(gt);Gt.nodeName="staticText";var Ht=function(t){return t>="a"&&t<="z"},qt=function(t){return t>="A"&&t<="Z"},zt=function(){function e(n,r,i){t(this,e),Lt(this,"value",void 0),Lt(this,"lineIndex",void 0),Lt(this,"colIndex",void 0),this.value=n,this.lineIndex=r,this.colIndex=i}return i(e,[{key:"getValue",value:function(){return this.value}},{key:"getLineIndex",value:function(){return this.lineIndex}},{key:"getColIndex",value:function(){return this.colIndex}},{key:"isLineBreaked",value:function(){return!1}},{key:"toString",value:function(){return this.value}},{key:"isCanSkip",value:function(){return!1}},{key:"isSubtractAhead",value:function(){return!0}}]),e}();function Xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(zt,"ORDER",10),Lt(zt,"TOKEN",null),Lt(zt,"accept",(function(t){return t==this.TOKEN})),Lt(zt,"toExpression",(function(t,e,n){return n.slice(t,e).join("")})),Lt(zt,"parse",(function(t,e,n){return new this(t,e,n)}));var Jt=function(e){ht(r,e);var n=Xt(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function Qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Jt,"accept",(function(t){return(e=t)>="0"&&e<="9";var e}));var $t=function(e){ht(r,e);var n=Qt(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function Zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}$t.accept=function(t){return Ht(e=t)||qt(e);var e};var te=function(e){ht(r,e);var n=Zt(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r,[{key:"isSubtractAhead",value:function(){return!1}}]),r}(zt);function ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}var ne=function(e){ht(r,e);var n=ee(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(te);function re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(ne,"TOKEN","-");var ie=function(e){ht(r,e);var n=re(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(te);function oe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(ie,"TOKEN","+");var ue=function(e){ht(r,e);var n=oe(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(te);function ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(ue,"TOKEN","/");var ce=function(e){ht(r,e);var n=ae(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(te);function se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(ce,"TOKEN","*");var fe=function(e){ht(r,e);var n=se(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(te);function le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(fe,"TOKEN","=");var he=function(e){ht(r,e);var n=le(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(te);function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(he,"TOKEN",">");var ye=function(e){ht(r,e);var n=pe(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(te);function ve(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(ye,"TOKEN","<");var ge=function(e){ht(r,e);var n=ve(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(te);function de(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(ge,"TOKEN","&");var me=function(e){ht(r,e);var n=de(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(te);function Re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(me,"TOKEN","!");var Te=function(e){ht(r,e);var n=Re(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(te);function Ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Te,"TOKEN","|");var xe=function(e){ht(r,e);var n=Ee(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function Se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(xe,"TOKEN","@");var be=function(e){ht(r,e);var n=Se(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function Oe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(be,"TOKEN","\\");var Be=function(e){ht(r,e);var n=Oe(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r,[{key:"isCanSkip",value:function(){return!0}}]),r}(zt);function ke(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Be,"TOKEN"," ");var Ae=function(e){ht(r,e);var n=ke(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function we(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Ae,"TOKEN",",");var Ne=function(e){ht(r,e);var n=we(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function Ce(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Ne,"TOKEN","$");var Pe=function(e){ht(r,e);var n=Ce(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function _e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Pe,"TOKEN",".");var Ie=function(e){ht(r,e);var n=_e(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function Le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Ie,"TOKEN","#");var Fe=function(e){ht(r,e);var n=Le(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function De(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Fe,"TOKEN","{");var Me=function(e){ht(r,e);var n=De(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function Ke(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Me,"TOKEN","[");var Ue=function(e){ht(r,e);var n=Ke(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r,[{key:"isSubtractAhead",value:function(){return!1}}]),r}(zt);function Ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Ue,"TOKEN","(");var Ve=function(e){ht(r,e);var n=Ye(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r,[{key:"isLineBreaked",value:function(){return!0}},{key:"isCanSkip",value:function(){return!0}}]),r}(zt);function je(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Ve,"TOKEN","\n");var We=function(e){ht(r,e);var n=je(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function Ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(We,"TOKEN",'"');var He=function(e){ht(r,e);var n=Ge(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(He,"TOKEN","}");var ze=function(e){ht(r,e);var n=qe(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function Xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(ze,"TOKEN","]");var Je=function(e){ht(r,e);var n=Xe(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function Qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Je,"TOKEN",")");var $e=function(e){ht(r,e);var n=Qe(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function Ze(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt($e,"TOKEN",";");var tn=function(e){ht(r,e);var n=Ze(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r,[{key:"isLineBreaked",value:function(){return!0}},{key:"isCanSkip",value:function(){return!0}}]),r}(zt);function en(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(tn,"TOKEN","\t");var nn,rn=function(e){ht(r,e);var n=en(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r)}(zt);function on(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(rn,"TOKEN","_");var un=function(e){ht(r,e);var n=on(r);function r(e,i,o){return t(this,r),n.call(this,e,i,o)}return i(r,[{key:"isCanSkip",value:function(){return!1}}]),r}(zt);nn=un,Lt(un,"ORDER",0),Lt(un,"accept",(function(t){return!0})),Lt(un,"parse",(function(t,e,n){return new nn(t,e,n)}));var an=[Jt,$t,ne,ie,ue,ce,fe,he,ye,ge,me,Te,xe,Be,Ae,Pe,Ne,Ie,Me,Ue,Fe,Ve,We,ze,Je,He,tn,rn,$e,be,un];an=an.sort((function(t,e){return e.ORDER-t.ORDER}));function cn(t){for(var e=0,n=0,r=an,i=[],o=0,u=t.length;o<u;o++){for(var a=t.charAt(o),c=0,s=r.length;c<s;c++){var f=r[c];if(f.accept(a)){var l=f.parse(a,e,n);i.push(l),l.isLineBreaked()&&(e++,n=-1);break}}n++}return i}var sn=function(){function e(n,r,i,o){t(this,e),Lt(this,"startLine",void 0),Lt(this,"endLine",void 0),Lt(this,"startCol",void 0),Lt(this,"endCol",void 0),this.startLine=n||0,this.startCol=r||0,this.endLine=i||0,this.endCol=o||0}return i(e,[{key:"getStartLine",value:function(){return this.startLine}},{key:"setStartLine",value:function(t){this.startLine=t,this.startLine>this.endLine&&(this.endLine=this.startLine)}},{key:"setLineOffset",value:function(t){this.startLine=this.startLine+t,this.endLine=this.endLine+t}},{key:"setColOffset",value:function(t){this.startCol=this.startCol+t,this.endCol=this.endCol+t}},{key:"getStartCol",value:function(){return this.startCol}},{key:"setStartCol",value:function(t){this.startCol=t,this.startCol>this.endCol&&(this.endCol=this.startCol)}},{key:"getEndLine",value:function(){return this.endLine}},{key:"setEndLine",value:function(t){this.endLine=t,this.endLine<this.startLine&&(this.startLine=this.endLine)}},{key:"getEndCol",value:function(){return this.endCol}},{key:"clone",value:function(){return new e(this.startLine,this.startCol,this.endLine,this.endCol)}},{key:"parseStartToken",value:function(t){this.startLine=t.getLineIndex(),this.startCol=t.getColIndex()}},{key:"parseStartSyntax",value:function(t){var e=t.getPosition();this.startLine=e.getStartLine(),this.startCol=e.getStartCol()}},{key:"parseEndToken",value:function(t){this.endLine=t.getLineIndex(),this.endCol=t.getColIndex()}},{key:"parseEndSyntax",value:function(t){var e=t.getPosition();this.endLine=e.getEndLine(),this.endCol=e.getEndCol()}},{key:"has",value:function(t,e){return this.startLine==this.endLine?this.startLine==t&&e>=this.startCol&&e<=this.endCol:t>this.startLine&&t<this.endLine||(t==this.startLine&&e>=this.startCol||t==this.endLine&&e<=this.endCol)}}]),e}(),fn=function(){function e(n,r,i,o){t(this,e),Lt(this,"tokenStartIndex",void 0),Lt(this,"tokenEndIndex",void 0),Lt(this,"position",void 0),Lt(this,"context",void 0),this.tokenStartIndex=n,this.tokenEndIndex=r,this.position=i,this.context=o}return i(e,[{key:"getPosition",value:function(){return this.position}},{key:"getContext",value:function(){return this.context}},{key:"toString",value:function(){return""}},{key:"getTokenStartIndex",value:function(){return this.tokenStartIndex}},{key:"getTokenEndIndex",value:function(){return this.tokenEndIndex}},{key:"isText",value:function(){return!1}},{key:"visit",value:function(){}}]),e}();function ln(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(fn,"accept",(function(t){return!1})),Lt(fn,"parse",(function(t){return null})),Lt(fn,"INDENT_CHAR","\t");var hn,pn=function(e){ht(r,e);var n=ln(r);function r(e,i,o,u,a,c){var s;return t(this,r),Lt(pt(s=n.call(this,e,i,a,c)),"message",void 0),Lt(pt(s),"tokens",void 0),s.message=o,s.tokens=u,s}return i(r,[{key:"getMessasge",value:function(){return this.message}},{key:"toString",value:function(){var t=this.getContext().getPrinter();if(t&&t.printUnknownSyntax)return t.printUnknownSyntax(this,(function(t){return t.toString()}));var e=[];return this.tokens&&this.tokens.forEach((function(t){e.push(t.toString())})),e.join("")}},{key:"visit",value:function(){var t=this.getContext().getVisitor();if(t&&t.visitUnknownSyntax)throw Error("当前表达式解析错误！")}}]),r}(fn);function yn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(pn,"accept",(function(t){return!1})),Lt(pn,"parse",(function(t){return null})),Lt(pn,"getWeight",(function(){return 0}));var vn=function(e){ht(r,e);var n=yn(r);function r(e,i,o,u,a){var c;return t(this,r),Lt(pt(c=n.call(this,e,i,u,a)),"body",void 0),c.body=o,c}return i(r,[{key:"getBody",value:function(){return this.body}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printBacketSyntax?t.printBacketSyntax(this,(function(t){return t.toString()})):`(${this.getBody().toString()})`}},{key:"isText",value:function(){return this.body.isText()}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitBacketSyntax&&(e=t.visitBacketSyntax(this)),!1!==e&&this.getBody().visit()}}]),r}(fn);hn=vn,Lt(vn,"accept",(function(t){return t.getToken()instanceof Ue})),Lt(vn,"parse",(function(t){var e=t.getIndex(),n=t.getToken(),r=function(t,e,n){for(var r,i,o=t,u=[],a=!1,c=null,s=null;;){var f=e[t];if(f instanceof Ue)u.push(f);else if(f instanceof Je)if(u.length>0){var l=u.pop();if(l instanceof Ue){if(0==u.length){r=t,i=f;break}}else l&&u.push(l),u.push(f)}else u.push(f);if(++t==e.length){var h=e[o],p=e[e.length-1],y=new sn;y.parseStartToken(h),p instanceof fn?y.parseEndSyntax(p):y.parseEndToken(p),s=new pn(o,e.length-1,"未找到闭合括号",e.slice(t,e.length),y,n),c=new Error("未找到闭合括号"),a=!0;break}}return{hasError:a,error:c,syntax:s,endIndex:r,rightParenToken:i,bodyTokens:e.slice(o+1,r)}}(e,t.getTokens(),t);if(r.hasError)return r.syntax;if(r.rightParenToken&&r.endIndex){var i=r.rightParenToken,o=Kr(r.bodyTokens,t),u=new sn;return u.parseStartToken(n),u.parseEndToken(i),new hn(e,r.endIndex,o,u,t)}return null})),Lt(vn,"getWeight",(function(){return 900}));var gn=function(t){return dn(t)||mn(t)||Rn(t)},dn=function(t){return t instanceof $t},mn=function(t){return t instanceof Jt},Rn=function(t){return t instanceof rn},Tn=function(t,e){for(var n=[];;){var r=e[t++];if(!gn(r))break;n.push(r)}return n};function En(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}var xn=function(e){ht(r,e);var n=En(r);function r(e,i,o,u,a){var c;return t(this,r),Lt(pt(c=n.call(this,e,i,u,a)),"code",void 0),c.code=o,c}return i(r,[{key:"getCode",value:function(){return this.code}},{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printFieldSyntax?t.printFieldSyntax(this,(function(t){return t.toString()})):`${this.getSymbol()}{${this.getCode()}}`}}]),r}(fn);function Sn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(xn,"SYMBOL",""),Lt(xn,"accept",(function(t){var e=t.getIndex(),n=t.getTokens(),r=n[e];if(r instanceof Ne&&n.slice(e,e+this.SYMBOL.length+1).join("")==this.SYMBOL+"{"){e+=this.SYMBOL.length+1;var i=Tn(e,n);if(i&&i.length>0&&(r=n[e+=i.length])instanceof He)return!0}return!1})),Lt(xn,"parse",(function(t){var e=t.getIndex(),n=e,r=t.getToken(),i=t.getTokens();e+=this.SYMBOL.length+1;var o=Tn(e,i).join("");e+=o.length;var u=new sn;return u.parseStartToken(r),u.parseEndToken(i[e]),new this(n,e,o,u,t)})),Lt(xn,"getWeight",(function(){return 1101}));var bn=function(e){ht(r,e);var n=Sn(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"visit",value:function(){var t=this.getContext().getVisitor();t&&t.visitFieldSyntax&&t.visitFieldSyntax(this)}}]),r}(xn);function On(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(bn,"SYMBOL","$F");var Bn=function(e){ht(r,e);var n=On(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"visit",value:function(){var t=this.getContext().getVisitor();t&&t.visitParameterSyntax&&t.visitParameterSyntax(this)}}]),r}(xn);function kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Bn,"SYMBOL","$P");var An,wn=function(e){ht(r,e);var n=kn(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"visit",value:function(){var t=this.getContext().getVisitor();t&&t.visitVariableSyntax&&t.visitVariableSyntax(this)}}]),r}(xn);function Nn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(wn,"SYMBOL","$V");var Cn,Pn=function(e){ht(r,e);var n=Nn(r);function r(e,i,o,u,a){var c;return t(this,r),Lt(pt(c=n.call(this,e,i,u,a)),"value",void 0),c.value=o,c}return i(r,[{key:"getValue",value:function(){return this.value}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printBooleanIdentifierSyntax?t.printBooleanIdentifierSyntax(this,(function(t){return t.toString()})):this.getValue()?"true":"false"}},{key:"isText",value:function(){return!0}},{key:"visit",value:function(){var t=this.getContext().getVisitor();t&&t.visitBooleanIdentifierSyntax&&t.visitBooleanIdentifierSyntax(this)}}]),r}(fn);function _n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}An=Pn,Lt(Pn,"getWeight",(function(){return 1e3})),Lt(Pn,"parse",(function(t){var e,n,r,i=t.getToken(),o=t.getIndex(),u=t.getTokens();"t"==i.toString()?(e=!0,n=u[r=o+3]):(e=!1,n=u[r=o+4]);var a=new sn;return a.parseStartToken(i),a.parseEndToken(n),new An(o,r,e,a,t)})),Pn.accept=function(t){var e=t.getToken().toString();if("t"==e||"f"==e){var n=t.getIndex(),r=t.getTokens(),i=r.slice(n,n+4).join("");if("true"==i)return!0;if("fals"==i&&n+4<r.length&&"e"==r[n+4].toString())return!0}return!1};var In,Ln=function(e){ht(r,e);var n=_n(r);function r(e,i,o,u,a){var c;return t(this,r),Lt(pt(c=n.call(this,e,i,u,a)),"value",void 0),c.value=o,c}return i(r,[{key:"getValue",value:function(){return this.value}},{key:"toString",value:function(){return"null"}},{key:"isText",value:function(){return!0}},{key:"visit",value:function(){var t=this.getContext().getVisitor();t&&t.visitNullIdentifierSyntax&&t.visitNullIdentifierSyntax(this)}}]),r}(fn);function Fn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Cn=Ln,Lt(Ln,"getWeight",(function(){return 1e3})),Lt(Ln,"parse",(function(t){var e,n,r=t.getToken(),i=t.getIndex(),o=t.getTokens();"n"==r.toString()&&(e=o[n=i+3]);var u=new sn;return u.parseStartToken(r),u.parseEndToken(e),new Cn(i,n,null,u,t)})),Ln.accept=function(t){if("n"==t.getToken().toString()){var e=t.getIndex();if("null"==t.getTokens().slice(e,e+4).join(""))return!0}return!1};var Dn,Mn=function(t,e){for(var n=[];t<e.length;){var r=e[t];if(!(r instanceof Jt||r instanceof Pe))break;n.push(r),t++}return n},Kn=function(e){ht(r,e);var n=Fn(r);function r(e,i,o,u,a){var c;return t(this,r),Lt(pt(c=n.call(this,e,i,u,a)),"value",void 0),c.value=o,c}return i(r,[{key:"getValue",value:function(){return this.value}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printNumberIdentifierSyntax?t.printNumberIdentifierSyntax(this,(function(t){return t.toString()})):this.getValue()+""}},{key:"isText",value:function(){return!0}},{key:"visit",value:function(){var t=this.getContext().getVisitor();t&&t.visitNumberIdentifierSyntax&&t.visitNumberIdentifierSyntax(this)}}]),r}(fn);function Un(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}In=Kn,Lt(Kn,"getWeight",(function(){return 1e3})),Lt(Kn,"parse",(function(t){for(var e=t.getTokens(),n=t.getIndex(),r=n,i=Mn(n,e),o=n+i.length-1,u=e[o],a=parseFloat(i.join(""));;){var c=e[n-1];if(!(c instanceof zt&&c.isCanSkip()))break;r--,n--}if(e[n-1]instanceof ne){for(var s,f=n-1;--f>-1;){var l=e[f];if((l instanceof zt||l instanceof fn)&&!(l instanceof Be)){s=e[f];break}}if(s){if(s instanceof zt)s.isSubtractAhead()||(r--,a=0-a)}else r--,a=0-a}var h=new sn;return h.parseStartToken(e[r]),h.parseEndToken(u),new In(r,o,a,h,t)})),Lt(Kn,"accept",(function(t){if(t.getToken()instanceof Jt){var e=t.getTokens(),n=t.getIndex(),r=Mn(n,e).join("");return!isNaN(parseFloat(r))}return!1}));var Yn=function(t,e){for(var n=0,r=t;e[--r]instanceof be;)n++;return n},Vn=function(e){ht(r,e);var n=Un(r);function r(e,i,o,u,a){var c;return t(this,r),Lt(pt(c=n.call(this,e,i,u,a)),"value",void 0),c.value=o,c}return i(r,[{key:"getValue",value:function(){return this.value}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printStringIdentifierSyntax?t.printStringIdentifierSyntax(this,(function(t){return t.toString()})):`"${this.getValue()}"`}},{key:"isText",value:function(){return!0}},{key:"visit",value:function(){var t=this.getContext().getVisitor();t&&t.visitStringIdentifierSyntax&&t.visitStringIdentifierSyntax(this)}}]),r}(fn);function jn(){return jn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vt(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},jn.apply(this,arguments)}function Wn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Dn=Vn,Lt(Vn,"accept",(function(t){return t.getToken()instanceof We})),Lt(Vn,"parse",(function(t){var e=t.getIndex(),n=t.getTokens(),r=function(t,e,n){var r=t,i=-1,o=[];[].push(e[++t]);for(var u=null,a=null;t<e.length;){var c=e[t];if(c instanceof We&&Yn(t,e)%2==0){i=t;break}if(o.push(c),++t==e.length){a=new Error("字符串未结束");var s=e[r],f=e[e.length-1],l=new sn;l.parseStartToken(s),f instanceof fn?l.parseEndSyntax(f):l.parseEndToken(f),u=new pn(t,e.length-1,"字符串未结束",e.slice(t,e.length),l,n);break}}return{syntax:u,error:a,endIndex:i,strTokens:o}}(e,n,t);if(r.error)return r.syntax;var i=r.endIndex,o=new sn;if(o.parseStartToken(n[e]),-1==i)return o.parseEndToken(n[n.length-1]),new pn(e,n.length-1,"字符串未结束",n.slice(e,n.length),o,t);o.parseEndToken(n[i]);var u=function(t){if(-1!=t.indexOf('\\"')){var e=['"'];return e.push(t),e.push('"'),JSON.parse(e.join(""))}return t}(r.strTokens.join(""));return new Dn(e,i,u,o,t)})),Lt(Vn,"getWeight",(function(){return 1400}));var Gn=function(e){ht(r,e);var n=Wn(r);function r(e,i,o,u,a,c){var s;return t(this,r),Lt(pt(s=n.call(this,e,i,a,c)),"left",void 0),Lt(pt(s),"right",void 0),s.left=o,s.right=u,s}return i(r,[{key:"getLeft",value:function(){return this.left}},{key:"getRight",value:function(){return this.right}},{key:"getSymbol",value:function(){}},{key:"getDisplaySymbol",value:function(){}},{key:"toString",value:function(){var t=[],e=this.getLeft();e&&t.push(e.toString()),this.constructor.toString();var n=this.getDisplaySymbol();void 0===n&&(n=this.getSymbol()),t.push(n);var r=this.getRight();return r&&t.push(r.toString()),t.join("")}}]),r}(fn);function Hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Gn,"SYMBOL",""),Lt(Gn,"accept",(function(t){var e=t.getTokens(),n=t.getIndex();return e.slice(n,n+this.SYMBOL.length).join("")==this.SYMBOL&&this.extraAccept(t)})),Lt(Gn,"extraAccept",(function(t){return!0})),Lt(Gn,"parse",(function(t){var e,n,r,i,o=t.getTokens(),u=t.getIndex(),a=function(t,e){for(var n;--t>-1;){var r=e[t];if(!(r instanceof Be)){r instanceof fn&&(n={syntax:r,index:t});break}}return n}(u,o),c=new sn;a?(e=a.index,r=a.syntax):(e=0,r=Kr(o.slice(0,u),t));var s=function(t,e){for(var n;++t<e.length;){var r=e[t];if(!(r instanceof Be)){r instanceof fn&&(n={syntax:r,index:t});break}}return n}(u+this.SYMBOL.length-1,o);return s?(n=s.index,i=s.syntax):(n=o.length-1,i=Kr(o.slice(u+2,o.length),t)),c.parseStartToken(o[u]),c.parseEndToken(o[u+this.SYMBOL.length-1]),new this(e,n,r,i,c,t)}));var qn=function(e){ht(r,e);var n=Hn(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printAddSyntax?t.printAddSyntax(this,(function(t){return t.toString()})):jn(vt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitAddSyntax&&(e=t.visitAddSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(Gn);function zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(qn,"SYMBOL","+"),Lt(qn,"getWeight",(function(){return 600}));var Xn=function(e){ht(r,e);var n=zn(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printDivideSyntax?t.printDivideSyntax(this,(function(t){return t.toString()})):jn(vt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitDivideSyntax&&(e=t.visitDivideSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(Gn);function Jn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Xn,"SYMBOL","/"),Lt(Xn,"getWeight",(function(){return 700}));var Qn=function(e){ht(r,e);var n=Jn(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printMultiplySyntax?t.printMultiplySyntax(this,(function(t){return t.toString()})):jn(vt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitMultiplySyntax&&(e=t.visitMultiplySyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(Gn);function $n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Qn,"SYMBOL","*"),Lt(Qn,"getWeight",(function(){return 700}));var Zn=function(e){ht(r,e);var n=$n(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printSubtractSyntax?t.printSubtractSyntax(this,(function(t){return t.toString()})):jn(vt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitSubtractSyntax&&(e=t.visitSubtractSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(Gn);function tr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Zn,"SYMBOL","-"),Lt(Zn,"getWeight",(function(){return 601}));var er=function(e){ht(r,e);var n=tr(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r)}(Gn);function nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}var rr=function(e){ht(r,e);var n=nr(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printEqualSyntax?t.printEqualSyntax(this,(function(t){return t.toString()})):jn(vt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitEqualSyntax&&(e=t.visitEqualSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(er);function ir(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(rr,"SYMBOL","=="),Lt(rr,"getWeight",(function(){return 500}));var or=function(e){ht(r,e);var n=ir(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getOperator",value:function(){return r.SYMBOL}},{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printGreaterOrEqualSyntax?t.printGreaterOrEqualSyntax(this,(function(t){return t.toString()})):jn(vt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitGreaterOrEqualSyntax&&(e=t.visitGreaterOrEqualSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(er);function ur(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(or,"SYMBOL",">="),Lt(or,"getWeight",(function(){return 500}));var ar=function(e){ht(r,e);var n=ur(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getOperator",value:function(){return or.SYMBOL}},{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"getDisplaySymbol",value:function(){return jn(vt(r.prototype),"getSymbol",this).call(this)}}]),r}(or);function cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(ar,"SYMBOL","&gt;="),Lt(ar,"getWeight",(function(){return 501}));var sr=function(e){ht(r,e);var n=cr(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printGreaterThanSyntax?t.printGreaterThanSyntax(this,(function(t){return t.toString()})):jn(vt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitGreaterThanSyntax&&(e=t.visitGreaterThanSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(er);function fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(sr,"SYMBOL",">"),Lt(sr,"extraAccept",(function(t){var e=t.getIndex(),n=t.getTokens(),r=n[e+1];return!(r instanceof fe)&&!((r=n[e-1])instanceof ye)})),Lt(sr,"getWeight",(function(){return 400}));var lr=function(e){ht(r,e);var n=fr(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return sr.SYMBOL}},{key:"getDisplaySymbol",value:function(){return jn(vt(r.prototype),"getSymbol",this).call(this)}}]),r}(sr);function hr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(lr,"SYMBOL","&gt;"),Lt(lr,"getWeight",(function(){return 401}));var pr=function(e){ht(r,e);var n=hr(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printLessOrEqualSyntax?t.printLessOrEqualSyntax(this,(function(t){return t.toString()})):jn(vt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitLessOrEqualSyntax&&(e=t.visitLessOrEqualSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(er);function yr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(pr,"SYMBOL","<="),Lt(pr,"getWeight",(function(){return 500}));var vr=function(e){ht(r,e);var n=yr(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"getDisplaySymbol",value:function(){return jn(vt(r.prototype),"getSymbol",this).call(this)}}]),r}(pr);function gr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(vr,"SYMBOL","&lt;="),Lt(vr,"getWeight",(function(){return 501}));var dr=function(e){ht(r,e);var n=gr(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printLessThanSyntax?t.printLessThanSyntax(this,(function(t){return t.toString()})):jn(vt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitLessThanSyntax&&(e=t.visitLessThanSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(er);function mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(dr,"SYMBOL","<"),Lt(dr,"extraAccept",(function(t){var e=t.getIndex(),n=t.getTokens()[e+1];return!(n instanceof he||n instanceof fe)})),Lt(dr,"getWeight",(function(){return 400}));var Rr=function(e){ht(r,e);var n=mr(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"getDisplaySymbol",value:function(){return jn(vt(r.prototype),"getSymbol",this).call(this)}}]),r}(dr);function Tr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Rr,"SYMBOL","&lt;"),Lt(Rr,"extraAccept",(function(t){var e=t.getIndex(),n=t.getTokens()[e+1];return!(n instanceof he||n instanceof fe)})),Lt(Rr,"getWeight",(function(){return 401}));var Er=function(e){ht(r,e);var n=Tr(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printNotEqualSyntax?t.printNotEqualSyntax(this,(function(t){return t.toString()})):jn(vt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitLessThanSyntax&&(e=t.visitLessThanSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(er);function xr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Er,"SYMBOL","<>"),Lt(Er,"getWeight",(function(){return 500}));var Sr=function(e){ht(r,e);var n=xr(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"getDisplaySymbol",value:function(){return jn(vt(r.prototype),"getSymbol",this).call(this)}}]),r}(Er);function br(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Sr,"SYMBOL","&lt;&gt;"),Lt(Sr,"getWeight",(function(){return 501}));var Or=function(e){ht(r,e);var n=br(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r)}(Gn);function Br(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}var kr=function(e){ht(r,e);var n=Br(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printAndSyntax?t.printAndSyntax(this,(function(t){return t.toString()})):jn(vt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitAndSyntax&&(e=t.visitAndSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(Or);function Ar(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(kr,"SYMBOL","&&"),Lt(kr,"getWeight",(function(){return 300}));var wr,Nr=function(e){ht(r,e);var n=Ar(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getSymbol",value:function(){return r.SYMBOL}},{key:"getDisplaySymbol",value:function(){return jn(vt(r.prototype),"getSymbol",this).call(this)}}]),r}(kr);function Cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Nr,"SYMBOL","&amp;&amp;"),Lt(Nr,"getWeight",(function(){return 301}));var Pr=function(e){ht(r,e);var n=Cr(r);function r(e,i,o,u,a){var c;return t(this,r),Lt(pt(c=n.call(this,e,i,u,a)),"right",void 0),c.right=o,c}return i(r,[{key:"getRight",value:function(){return this.right}},{key:"toString",value:function(){var t=this.getContext().getPrinter();if(t&&t.printNotSyntax)return t.printNotSyntax(this,(function(t){return t.toString()}));var e=this.getRight();return`!${e?e.toString():""}`}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitNotSyntax&&(e=t.visitNotSyntax(this)),!1!==e&&this.getRight().visit()}}]),r}(fn);function _r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}wr=Pr,Lt(Pr,"accept",(function(t){return t.getToken()instanceof me})),Lt(Pr,"parse",(function(t){var e,n,r=t.getTokens(),i=t.getIndex(),o=function(t,e){for(var n;++t<e.length;){var r=e[t];if(!(r instanceof Be)){r instanceof fn&&(n={syntax:r,index:t});break}}return n}(i,r);o?(e=o.index,n=o.syntax):(n=Kr(r.slice(i+1,r.length),t),e=r.length-1);var u=new sn;return u.parseStartToken(r[i]),u.parseEndToken(r[i]),new wr(i,e,n,u,t)})),Lt(Pr,"getWeight",(function(){return 800}));var Ir=function(e){ht(r,e);var n=_r(r);function r(e,i,o,u,a,c){return t(this,r),n.call(this,e,i,o,u,a,c)}return i(r,[{key:"getOperator",value:function(){return r.SYMBOL}},{key:"getSymbol",value:function(){return this.getOperator()}},{key:"toString",value:function(){var t=this.getContext().getPrinter();return t&&t.printOrSyntax?t.printOrSyntax(this,(function(t){return t.toString()})):jn(vt(r.prototype),"toString",this).call(this)}},{key:"visit",value:function(){var t=this.getContext().getVisitor(),e=!0;t&&t.visitOrSyntax&&(e=t.visitOrSyntax(this)),!1!==e&&(this.getLeft().visit(),this.getRight().visit())}}]),r}(Or);function Lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}Lt(Ir,"SYMBOL","||"),Lt(Ir,"getWeight",(function(){return 300}));var Fr=function(e){ht(r,e);var n=Lr(r);function r(e,i){var o,u,a,c;if(t(this,r),e.length>0){var s=e[0],f=e[e.length-1];u=s.getTokenStartIndex(),a=f.getTokenEndIndex();var l=s.getPosition(),h=f.getPosition();c=new sn(l.getStartLine(),l.getStartCol(),h.getEndLine(),h.getEndCol())}else a=u=0,c=new sn(0,0,0,0);return Lt(pt(o=n.call(this,u,a,c,i)),"syntaxs",void 0),o.syntaxs=e,o}return i(r,[{key:"toString",value:function(){var t=this.getContext().getPrinter();if(t&&t.printParseResultSyntax)return t.printParseResultSyntax(this,(function(t){return t.toString()}));var e=[];return this.syntaxs.forEach((function(t){e.push(t.toString())})),e.join("")}},{key:"getSyntaxs",value:function(){return this.syntaxs}},{key:"visit",value:function(){var t=this.getContext().getVisitor();if(t&&t.visitParseResultSyntax)return t.visitParseResultSyntax(this);this.syntaxs.forEach((function(t){t.visit()}))}}]),r}(fn),Dr=function(){function e(n,r,i,o){t(this,e),Lt(this,"index",void 0),Lt(this,"tokens",void 0),Lt(this,"printer",void 0),Lt(this,"visitor",void 0),Lt(this,"children",[]),this.index=n,this.tokens=r,this.printer=i,this.visitor=o}return i(e,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(t){this.index=t}},{key:"getTokens",value:function(){return this.tokens}},{key:"setTokens",value:function(t){this.tokens=t}},{key:"getToken",value:function(){return this.tokens[this.index]}},{key:"getPrinter",value:function(){return this.printer}},{key:"setPrinter",value:function(t){this.printer=t,this.children.forEach((function(e){e.setPrinter(t)}))}},{key:"setVisitor",value:function(t){this.visitor=t,this.children.forEach((function(e){e.setVisitor(t)}))}},{key:"getVisitor",value:function(){return this.visitor}},{key:"joinParentContext",value:function(t){t&&-1==t.children.indexOf(this)&&t.children.push(this)}}]),e}(),Mr=[pn,bn,Ln,vn,Pn,Kn,Vn,qn,Nr,Xn,Qn,Zn,or,sr,pr,dr,Er,ar,lr,vr,Rr,Sr,kr,rr,Pr,Ir,Bn,wn];Mr=Mr.sort((function(t,e){return e.getWeight()-t.getWeight()}));var Kr=function(t,e){if(!t||0==t.length)return null;var n=Mr,r=new Dr;r.joinParentContext(e);for(var i=0,o=n.length;i<o;i++){for(var u=n[i],a=!0,c=0;c<t.length;c++){if(!(t[c]instanceof fn)&&(a=!1,r.setIndex(c),r.setTokens(t),u.accept(r))){var s=u.parse(r),f=s.getTokenStartIndex(),l=s.getTokenEndIndex()-f+1;t.splice(f,l,s),c=f}}if(a)break}for(var h=[],p=0;p<t.length;p++){var y=t[p];if(y instanceof zt)t.splice(p,1),p--,y.isCanSkip()||h.push(y);else if(0!=h.length){var v=new sn;v.parseStartToken(h[0]),v.parseEndToken(h[h.length-1]),r.setIndex(p),r.setTokens(t);var g=new pn(p-h.length,p--,"未识别表达式",h,v,r);t.splice(p-h.length,h.length,g),h=[]}}if(h.length>0){var d=new sn;d.parseStartToken(h[0]),d.parseEndToken(h[h.length-1]),r.setIndex(0),r.setTokens(t);var m=new pn(t.length-h.length,t.length-1,"未识别表达式",h,d,r);t.splice(t.length-h.length,h.length,m)}var R=[];return t.forEach((function(t){if(!(t instanceof fn))throw Error("表达式识别失败！");R.push(t)})),r.setIndex(0),r.setTokens(R),new Fr(R,r)},Ur=function(t){if("string"==typeof t&&""!=t.trim())try{return Kr(function(t){return cn(t)}(t))}catch(e){throw Error("表达式识别失败！表达式："+t)}return null},Yr={};function Vr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}var jr=function(e){ht(r,e);var n=Vr(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r,[{key:"parseTextFieldExpression",value:function(t){var e=this.getNode(),n=Rt("textFieldExpression",e);if(n){var r=Tt(n);if(r){var i=null;try{var o=(i=function(t){var e=Yr[t];return e||(e=Ur(t),Yr[t]=e),e}(r)).getSyntaxs();if(1==o.length){var u=o[0];if(u instanceof Vn)return void t.setText(u.getValue());if(u instanceof Bn)return void t.setBindingPath(u.getCode());if(u instanceof bn)return void t.setBindingPath(u.getCode())}if(i.isText())t.setText(i.toString());else{var a=function(t,e){return t.getContext().setPrinter(e),t.toString()}(i,{printAddSyntax:function(t){var e=t.getLeft(),n=t.getRight();return`CONCAT(${e.toString()},${n.toString()})`},printFieldSyntax:function(t){return`TOONE.GET("${t.getCode()}")`},printParameterSyntax:function(t){return`TOONE.GET("${t.getCode()}")`}});t.setFormula(a)}}catch(c){t.setText("_@_$_toone_report_error_message_prefix_$_@_"+r)}}}}},{key:"parse",value:function(t){var e=new jt;return e.setWordWrap("true"==this.getAttribute("isStretchWithOverflow")),this.parseReportElement(e,t),this.parseBox(e,t),this.parseTextElement(e),this.parseTextFieldExpression(e),e}}]),r}(Gt);function Wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var i=vt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yt(this,n)}}jr.nodeName="textField";var Gr=function(e){ht(r,e);var n=Wr(r);function r(){return t(this,r),n.apply(this,arguments)}return i(r)}(xt);Gr.nodeName="title";var Hr=[mt,bt,Bt,Mt,Ut,Vt,jr,Gr,At,Gt,Nt,Pt,It],qr=function(t){var e=[],n=t.elements;return n&&n.forEach((function(t){if("element"==t.type){var n=zr(t);n&&e.push(n)}})),e},zr=function(t){var e=t.name,n=Hr.find((function(t){return t.nodeName==e}));return n?new n(t,new ft):null},Xr=function(){function e(){t(this,e),this.topOffset=0}return i(e,[{key:"appendTopOffset",value:function(t){this.topOffset+=t}},{key:"getTopOffset",value:function(){return this.topOffset}},{key:"setColumnWidth",value:function(t){this.columnWidth=t}},{key:"getColumnWidth",value:function(){return this.columnWidth}}]),e}(),Jr=function(t,e){-1===e.indexOf(t)&&e.push(t)},Qr={version:"17.0.10",name:"",docProps:{},sheetCount:1,tabStripRatio:.6,tabStripVisible:!1,highlightInvalidData:!0,allowDynamicArray:!0,iterativeCalculation:!1,scrollbarShowMax:!1,showHorizontalScrollbar:!1,showVerticalScrollbar:!1,iterativeCalculationMaximumIterations:100,iterativeCalculationMaximumChange:.001,dynamicReferences:!1,customList:[],defaultSheetTabStyles:{},sheets:{},sheetTabCount:0,namedStyles:[],namedPatterns:{},pivotCaches:{}},$r={name:"Sheet1",isSelected:!0,visible:1,theme:"Office",colHeaderVisible:!1,rowHeaderVisible:!1,data:{dataTable:{},defaultDataNode:{style:{themeFont:"Body"}}},gridline:{showHorizontalGridline:!1,showVerticalGridline:!1},rowHeaderData:{defaultDataNode:{style:{themeFont:"Body"}}},colHeaderData:{defaultDataNode:{style:{themeFont:"Body"}}},defaultData:{},leftCellIndex:0,topCellIndex:0,selections:void 0,rowOutlines:{items:[]},columnOutlines:{items:[]},cellStates:{},states:{},outlineColumnOptions:{},autoMergeRangeInfos:[],shapeCollectionOption:{snapMode:0},printInfo:{paperSize:{height:1169.2913385826773,kind:9,width:826.7716535433073}},index:0,order:0},Zr={left:0,center:1,right:2},ti={bottom:2,middle:1,top:0},ei=function(t){return JSON.parse(JSON.stringify(t))},ni=function(t,e,n){var r=n.data.dataTable,i=r[t]||{},o=i[e]||{};return i[e]=o,r[t]=i,o},ri=function(){function e(n){t(this,e),this.sheet=n,this.sheetJson=null}return i(e,[{key:"toColumnWidths",value:function(t){var e=[];return t.forEach((function(n,r){r!=t.length-1&&e.push({size:t[r+1]-n})})),e}},{key:"toRowHeights",value:function(t){var e=[];return t.forEach((function(n,r){r!=t.length-1&&e.push({size:t[r+1]-n})})),e}},{key:"appnedBorderStyle",value:function(t,e,n){e&&(n[t]={style:1,color:e.color})}},{key:"setCellStyle",value:function(t,e,n){var r,i,o=n.getFont(),u=n.getFontSize(),a={hAlign:(i=n.getHAlign().toLowerCase(),Zr[i]),vAlign:(r=n.getVAlign().toLowerCase(),ti[r]),font:`${u}pt ${o}`,fontFamily:o,fontSize:u+"pt",fontWeight:n.isBold()?"bold":"normal",wordWrap:n.isWordWrap()};this.appnedBorderStyle("borderTop",n.getBorderTop(),a),this.appnedBorderStyle("borderRight",n.getBorderRight(),a),this.appnedBorderStyle("borderBottom",n.getBorderBottom(),a),this.appnedBorderStyle("borderLeft",n.getBorderLeft(),a),function(t,e,n,r){var i=ni(t,e,r),o=i.style||{};Object.assign(o,n),i.style=o}(t,e,a,this.sheetJson)}},{key:"setCells",value:function(t,e,n){var r=this;n.forEach((function(n){var i=n.getLeft(),o=n.getTop(),u=n.getRight(),a=n.getBottom(),c=e.indexOf(o),s=t.indexOf(i),f=e.indexOf(a)-c,l=t.indexOf(u)-s;!function(t,e,n,r){ni(t,e,r).value=n}(c,s,n.getText(),r.sheetJson),function(t,e,n,r){n&&(ni(t,e,r).bindingPath=n)}(c,s,n.getBindingPath(),r.sheetJson),function(t,e,n,r){n&&(ni(t,e,r).formula=n)}(c,s,n.getFormula(),r.sheetJson);for(var h=0;h<f;h++)for(var p=0;p<l;p++)r.setCellStyle(c+h,s+p,n);(f>1||l>1)&&function(t,e,n,r,i){var o=i.spans||[];i.spans=o,o.push({row:t,rowCount:n,col:e,colCount:r})}(c,s,f,l,r.sheetJson)}))}},{key:"parseSheet",value:function(){this.sheetJson=ei($r);var t=this.sheet.getName();this.sheetJson.name=t;var e=[0],n=[0],r=this.sheet.getCells();r.forEach((function(t){var r=t.getTop(),i=t.getLeft();Jr(r,n),Jr(i,e),Jr(i+t.getWidth(),e),Jr(r+t.getHeight(),n)}));var i,o=function(t,e){return t-e};return e.sort(o),n.sort(o),i=e.length-1,this.sheetJson.columnCount=i,function(t,e){e.rowCount=t}(n.length-1,this.sheetJson),function(t,e){e.columns=t}(this.toColumnWidths(e),this.sheetJson),function(t,e){e.rows=t}(this.toRowHeights(n),this.sheetJson),this.setCells(e,n,r),Lt({},t,this.sheetJson)}},{key:"genTRByTDs",value:function(t){var e=[0],n=[0];t.forEach((function(t){var r=t.getTop();-1==n.indexOf(r)&&n.push(r);var i=t.getLeft();-1==e.indexOf(i)&&e.push(i),i+=t.getWidth(),r+=t.getHeight(),-1==e.indexOf(i)&&e.push(i),-1==n.indexOf(r)&&n.push(r)})),e.sort((function(t,e){return t-e})),n.sort((function(t,e){return t-e}));for(var r=function(){var r=n[i];(new TR).setHeight(n[i+1]-r);for(var o=0;o<e.length-1;o++)t.forEach((function(t,e){t.getLeft(),t.getTop()}))},i=0;i<n.length-1;i++)r();return[]}},{key:"toJSON",value:function(){var t=ei(Qr);return t.sheets=this.parseSheet(),t}}]),e}();return{JasperReportParser:function(){function e(n){t(this,e),this.jrxml=n}return i(e,[{key:"parse",value:function(){var t=st.xml2js(this.jrxml,{ignoreComment:!0,alwaysChildren:!0}).elements,e=null==t?void 0:t.find((function(t){return"jasperReport"==t.name&&"element"==t.type}));if(e){var n=zr(e);if(n){var r=n.parse(new Xr);return new ri(r).toJSON()}}return null}}]),e}()}}));
